import{n as Rn,u as Zr,m as Jo,v as Ko,k as Xr,r as Vo,w as Qo,x as ei}from"./index-BAOXlGCN.js";import{p as Yo,s as Go,a as Zo,d as Xo,c as dt,o as ea,f as vr,b as wr,e as ta}from"./index.es-C_LgUhH_.js";var In={},J={};Object.defineProperty(J,"__esModule",{value:!0});var ti=J.getLocalStorage=hi=J.getLocalStorageOrThrow=ui=J.getCrypto=fi=J.getCryptoOrThrow=li=J.getLocation=ci=J.getLocationOrThrow=si=J.getNavigator=ai=J.getNavigatorOrThrow=oi=J.getDocument=ii=J.getDocumentOrThrow=ri=J.getFromWindowOrThrow=ni=J.getFromWindow=void 0;function je(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}var ni=J.getFromWindow=je;function rt(t){const e=je(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}var ri=J.getFromWindowOrThrow=rt;function na(){return rt("document")}var ii=J.getDocumentOrThrow=na;function ra(){return je("document")}var oi=J.getDocument=ra;function ia(){return rt("navigator")}var ai=J.getNavigatorOrThrow=ia;function oa(){return je("navigator")}var si=J.getNavigator=oa;function aa(){return rt("location")}var ci=J.getLocationOrThrow=aa;function sa(){return je("location")}var li=J.getLocation=sa;function ca(){return rt("crypto")}var fi=J.getCryptoOrThrow=ca;function la(){return je("crypto")}var ui=J.getCrypto=la;function fa(){return rt("localStorage")}var hi=J.getLocalStorageOrThrow=fa;function ua(){return je("localStorage")}ti=J.getLocalStorage=ua;Object.defineProperty(In,"__esModule",{value:!0});var di=In.getWindowMetadata=void 0;const yr=J;function ha(){let t,e;try{t=yr.getDocumentOrThrow(),e=yr.getLocationOrThrow()}catch{return null}function n(){const k=t.getElementsByTagName("link"),I=[];for(let T=0;T<k.length;T++){const R=k[T],N=R.getAttribute("rel");if(N&&N.toLowerCase().indexOf("icon")>-1){const w=R.getAttribute("href");if(w)if(w.toLowerCase().indexOf("https:")===-1&&w.toLowerCase().indexOf("http:")===-1&&w.indexOf("//")!==0){let M=e.protocol+"//"+e.host;if(w.indexOf("/")===0)M+=w;else{const S=e.pathname.split("/");S.pop();const E=S.join("/");M+=E+"/"+w}I.push(M)}else if(w.indexOf("//")===0){const M=e.protocol+w;I.push(M)}else I.push(w)}}return I}function r(...k){const I=t.getElementsByTagName("meta");for(let T=0;T<I.length;T++){const R=I[T],N=["itemprop","property","name"].map(w=>R.getAttribute(w)).filter(w=>w?k.includes(w):!1);if(N.length&&N){const w=R.getAttribute("content");if(w)return w}}return""}function s(){let k=r("name","og:site_name","og:title","twitter:title");return k||(k=t.title),k}function o(){return r("description","og:description","twitter:description","keywords")}const u=s(),m=o(),v=e.origin,x=n();return{description:m,url:v,icons:x,name:u}}di=In.getWindowMetadata=ha;var da=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),s=0,e=0;e<n;e++)for(var o=arguments[e],u=0,m=o.length;u<m;u++,s++)r[s]=o[u];return r},ga=function(){function t(e,n,r){this.name=e,this.version=n,this.os=r,this.type="browser"}return t}(),pa=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),ma=function(){function t(e,n,r,s){this.name=e,this.version=n,this.os=r,this.bot=s,this.type="bot-device"}return t}(),_a=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),va=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),wa=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,ya=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,br=3,ba=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",wa]],Mr=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function Ma(t){return t?xr(t):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new va:typeof navigator<"u"?xr(navigator.userAgent):Sa()}function xa(t){return t!==""&&ba.reduce(function(e,n){var r=n[0],s=n[1];if(e)return e;var o=s.exec(t);return!!o&&[r,o]},!1)}function xr(t){var e=xa(t);if(!e)return null;var n=e[0],r=e[1];if(n==="searchbot")return new _a;var s=r[1]&&r[1].split(/[._]/).slice(0,3);s?s.length<br&&(s=da(s,Ca(br-s.length))):s=[];var o=s.join("."),u=Ea(t),m=ya.exec(t);return m&&m[1]?new ma(n,o,u,m[1]):new ga(n,o,u)}function Ea(t){for(var e=0,n=Mr.length;e<n;e++){var r=Mr[e],s=r[0],o=r[1],u=o.exec(t);if(u)return s}return null}function Sa(){var t=typeof process<"u"&&process.version;return t?new pa(process.version.slice(1)):null}function Ca(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}function Rt(t){return Ma(t)}function It(){const t=Rt();return t&&t.os?t.os:void 0}function gi(){const t=It();return t?t.toLowerCase().includes("android"):!1}function pi(){const t=It();return t?t.toLowerCase().includes("ios")||t.toLowerCase().includes("mac")&&navigator.maxTouchPoints>1:!1}function mi(){return It()?gi()||pi():!1}function _i(){const t=Rt();return t&&t.name?t.name.toLowerCase()==="node":!1}function vi(){return!_i()&&!!wi()}const ka=ni,Ra=ri,Ia=ii,Ta=oi,Aa=ai,wi=si,Na=ci,yi=li,Oa=fi,Ba=ui,La=hi,Tt=ti;function pn(){return di()}function Pa(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return JSON.parse(t)}catch{return t}}function qa(t){return typeof t=="string"?t:JSON.stringify(t)}const bi=Pa,Mi=qa;function Tn(t,e){const n=Mi(e),r=Tt();r&&r.setItem(t,n)}function An(t){let e=null,n=null;const r=Tt();return r&&(n=r.getItem(t)),e=n&&bi(n),e}function Nn(t){const e=Tt();e&&e.removeItem(t)}const bt="WALLETCONNECT_DEEPLINK_CHOICE";function Ua(t,e){const n=encodeURIComponent(t);return e.universalLink?`${e.universalLink}/wc?uri=${n}`:e.deepLink?`${e.deepLink}${e.deepLink.endsWith(":")?"//":"/"}wc?uri=${n}`:""}function $a(t){const e=t.href.split("?")[0];Tn(bt,Object.assign(Object.assign({},t),{href:e}))}function xi(t,e){return t.filter(n=>n.name.toLowerCase().includes(e.toLowerCase()))[0]}function Da(t,e){let n=t;return e&&(n=e.map(r=>xi(t,r)).filter(Boolean)),n}const Ei="https://registry.walletconnect.com";function Fa(){return Ei+"/api/v2/wallets"}function Wa(){return Ei+"/api/v2/dapps"}function Si(t,e="mobile"){var n;return{name:t.name||"",shortName:t.metadata.shortName||"",color:t.metadata.colors.primary||"",logo:(n=t.image_url.sm)!==null&&n!==void 0?n:"",universalLink:t[e].universal||"",deepLink:t[e].native||""}}function Ha(t,e="mobile"){return Object.values(t).filter(n=>!!n[e].universal||!!n[e].native).map(n=>Si(n,e))}const za=Object.freeze(Object.defineProperty({__proto__:null,detectEnv:Rt,detectOS:It,formatIOSMobile:Ua,formatMobileRegistry:Ha,formatMobileRegistryEntry:Si,getClientMeta:pn,getCrypto:Ba,getCryptoOrThrow:Oa,getDappRegistryUrl:Wa,getDocument:Ta,getDocumentOrThrow:Ia,getFromWindow:ka,getFromWindowOrThrow:Ra,getLocal:An,getLocalStorage:Tt,getLocalStorageOrThrow:La,getLocation:yi,getLocationOrThrow:Na,getMobileLinkRegistry:Da,getMobileRegistryEntry:xi,getNavigator:wi,getNavigatorOrThrow:Aa,getWalletRegistryUrl:Fa,isAndroid:gi,isBrowser:vi,isIOS:pi,isMobile:mi,isNode:_i,mobileLinkChoiceKey:bt,removeLocal:Nn,safeJsonParse:bi,safeJsonStringify:Mi,saveMobileLinkInfo:$a,setLocal:Tn},Symbol.toStringTag,{value:"Module"})),ja=["session_request","session_update","exchange_key","connect","disconnect","display_uri","modal_closed","transport_open","transport_close","transport_error"],On=["eth_sendTransaction","eth_signTransaction","eth_sign","eth_signTypedData","eth_signTypedData_v1","eth_signTypedData_v2","eth_signTypedData_v3","eth_signTypedData_v4","personal_sign","wallet_addEthereumChain","wallet_switchEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],Ja={1:"mainnet",3:"ropsten",4:"rinkeby",5:"goerli",42:"kovan"};var Bn={exports:{}};Bn.exports;(function(t){(function(e,n){function r(p,i){if(!p)throw new Error(i||"Assertion failed")}function s(p,i){p.super_=i;var c=function(){};c.prototype=i.prototype,p.prototype=new c,p.prototype.constructor=p}function o(p,i,c){if(o.isBN(p))return p;this.negative=0,this.words=null,this.length=0,this.red=null,p!==null&&((i==="le"||i==="be")&&(c=i,i=10),this._init(p||0,i||10,c||"be"))}typeof e=="object"?e.exports=o:n.BN=o,o.BN=o,o.wordSize=26;var u;try{u=Zr.Buffer}catch{}o.isBN=function(i){return i instanceof o?!0:i!==null&&typeof i=="object"&&i.constructor.wordSize===o.wordSize&&Array.isArray(i.words)},o.max=function(i,c){return i.cmp(c)>0?i:c},o.min=function(i,c){return i.cmp(c)<0?i:c},o.prototype._init=function(i,c,l){if(typeof i=="number")return this._initNumber(i,c,l);if(typeof i=="object")return this._initArray(i,c,l);c==="hex"&&(c=16),r(c===(c|0)&&c>=2&&c<=36),i=i.toString().replace(/\s+/g,"");var f=0;i[0]==="-"&&f++,c===16?this._parseHex(i,f):this._parseBase(i,c,f),i[0]==="-"&&(this.negative=1),this.strip(),l==="le"&&this._initArray(this.toArray(),c,l)},o.prototype._initNumber=function(i,c,l){i<0&&(this.negative=1,i=-i),i<67108864?(this.words=[i&67108863],this.length=1):i<4503599627370496?(this.words=[i&67108863,i/67108864&67108863],this.length=2):(r(i<9007199254740992),this.words=[i&67108863,i/67108864&67108863,1],this.length=3),l==="le"&&this._initArray(this.toArray(),c,l)},o.prototype._initArray=function(i,c,l){if(r(typeof i.length=="number"),i.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(i.length/3),this.words=new Array(this.length);for(var f=0;f<this.length;f++)this.words[f]=0;var g,_,b=0;if(l==="be")for(f=i.length-1,g=0;f>=0;f-=3)_=i[f]|i[f-1]<<8|i[f-2]<<16,this.words[g]|=_<<b&67108863,this.words[g+1]=_>>>26-b&67108863,b+=24,b>=26&&(b-=26,g++);else if(l==="le")for(f=0,g=0;f<i.length;f+=3)_=i[f]|i[f+1]<<8|i[f+2]<<16,this.words[g]|=_<<b&67108863,this.words[g+1]=_>>>26-b&67108863,b+=24,b>=26&&(b-=26,g++);return this.strip()};function m(p,i,c){for(var l=0,f=Math.min(p.length,c),g=i;g<f;g++){var _=p.charCodeAt(g)-48;l<<=4,_>=49&&_<=54?l|=_-49+10:_>=17&&_<=22?l|=_-17+10:l|=_&15}return l}o.prototype._parseHex=function(i,c){this.length=Math.ceil((i.length-c)/6),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var f,g,_=0;for(l=i.length-6,f=0;l>=c;l-=6)g=m(i,l,l+6),this.words[f]|=g<<_&67108863,this.words[f+1]|=g>>>26-_&4194303,_+=24,_>=26&&(_-=26,f++);l+6!==c&&(g=m(i,c,l+6),this.words[f]|=g<<_&67108863,this.words[f+1]|=g>>>26-_&4194303),this.strip()};function v(p,i,c,l){for(var f=0,g=Math.min(p.length,c),_=i;_<g;_++){var b=p.charCodeAt(_)-48;f*=l,b>=49?f+=b-49+10:b>=17?f+=b-17+10:f+=b}return f}o.prototype._parseBase=function(i,c,l){this.words=[0],this.length=1;for(var f=0,g=1;g<=67108863;g*=c)f++;f--,g=g/c|0;for(var _=i.length-l,b=_%f,h=Math.min(_,_-b)+l,a=0,d=l;d<h;d+=f)a=v(i,d,d+f,c),this.imuln(g),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(b!==0){var B=1;for(a=v(i,d,i.length,c),d=0;d<b;d++)B*=c;this.imuln(B),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}},o.prototype.copy=function(i){i.words=new Array(this.length);for(var c=0;c<this.length;c++)i.words[c]=this.words[c];i.length=this.length,i.negative=this.negative,i.red=this.red},o.prototype.clone=function(){var i=new o(null);return this.copy(i),i},o.prototype._expand=function(i){for(;this.length<i;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var x=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],k=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(i,c){i=i||10,c=c|0||1;var l;if(i===16||i==="hex"){l="";for(var f=0,g=0,_=0;_<this.length;_++){var b=this.words[_],h=((b<<f|g)&16777215).toString(16);g=b>>>24-f&16777215,g!==0||_!==this.length-1?l=x[6-h.length]+h+l:l=h+l,f+=2,f>=26&&(f-=26,_--)}for(g!==0&&(l=g.toString(16)+l);l.length%c!==0;)l="0"+l;return this.negative!==0&&(l="-"+l),l}if(i===(i|0)&&i>=2&&i<=36){var a=y[i],d=k[i];l="";var B=this.clone();for(B.negative=0;!B.isZero();){var P=B.modn(d).toString(i);B=B.idivn(d),B.isZero()?l=P+l:l=x[a-P.length]+P+l}for(this.isZero()&&(l="0"+l);l.length%c!==0;)l="0"+l;return this.negative!==0&&(l="-"+l),l}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var i=this.words[0];return this.length===2?i+=this.words[1]*67108864:this.length===3&&this.words[2]===1?i+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-i:i},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(i,c){return r(typeof u<"u"),this.toArrayLike(u,i,c)},o.prototype.toArray=function(i,c){return this.toArrayLike(Array,i,c)},o.prototype.toArrayLike=function(i,c,l){var f=this.byteLength(),g=l||Math.max(1,f);r(f<=g,"byte array longer than desired length"),r(g>0,"Requested array length <= 0"),this.strip();var _=c==="le",b=new i(g),h,a,d=this.clone();if(_){for(a=0;!d.isZero();a++)h=d.andln(255),d.iushrn(8),b[a]=h;for(;a<g;a++)b[a]=0}else{for(a=0;a<g-f;a++)b[a]=0;for(a=0;!d.isZero();a++)h=d.andln(255),d.iushrn(8),b[g-a-1]=h}return b},Math.clz32?o.prototype._countBits=function(i){return 32-Math.clz32(i)}:o.prototype._countBits=function(i){var c=i,l=0;return c>=4096&&(l+=13,c>>>=13),c>=64&&(l+=7,c>>>=7),c>=8&&(l+=4,c>>>=4),c>=2&&(l+=2,c>>>=2),l+c},o.prototype._zeroBits=function(i){if(i===0)return 26;var c=i,l=0;return c&8191||(l+=13,c>>>=13),c&127||(l+=7,c>>>=7),c&15||(l+=4,c>>>=4),c&3||(l+=2,c>>>=2),c&1||l++,l},o.prototype.bitLength=function(){var i=this.words[this.length-1],c=this._countBits(i);return(this.length-1)*26+c};function I(p){for(var i=new Array(p.bitLength()),c=0;c<i.length;c++){var l=c/26|0,f=c%26;i[c]=(p.words[l]&1<<f)>>>f}return i}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var i=0,c=0;c<this.length;c++){var l=this._zeroBits(this.words[c]);if(i+=l,l!==26)break}return i},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(i){return this.negative!==0?this.abs().inotn(i).iaddn(1):this.clone()},o.prototype.fromTwos=function(i){return this.testn(i-1)?this.notn(i).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(i){for(;this.length<i.length;)this.words[this.length++]=0;for(var c=0;c<i.length;c++)this.words[c]=this.words[c]|i.words[c];return this.strip()},o.prototype.ior=function(i){return r((this.negative|i.negative)===0),this.iuor(i)},o.prototype.or=function(i){return this.length>i.length?this.clone().ior(i):i.clone().ior(this)},o.prototype.uor=function(i){return this.length>i.length?this.clone().iuor(i):i.clone().iuor(this)},o.prototype.iuand=function(i){var c;this.length>i.length?c=i:c=this;for(var l=0;l<c.length;l++)this.words[l]=this.words[l]&i.words[l];return this.length=c.length,this.strip()},o.prototype.iand=function(i){return r((this.negative|i.negative)===0),this.iuand(i)},o.prototype.and=function(i){return this.length>i.length?this.clone().iand(i):i.clone().iand(this)},o.prototype.uand=function(i){return this.length>i.length?this.clone().iuand(i):i.clone().iuand(this)},o.prototype.iuxor=function(i){var c,l;this.length>i.length?(c=this,l=i):(c=i,l=this);for(var f=0;f<l.length;f++)this.words[f]=c.words[f]^l.words[f];if(this!==c)for(;f<c.length;f++)this.words[f]=c.words[f];return this.length=c.length,this.strip()},o.prototype.ixor=function(i){return r((this.negative|i.negative)===0),this.iuxor(i)},o.prototype.xor=function(i){return this.length>i.length?this.clone().ixor(i):i.clone().ixor(this)},o.prototype.uxor=function(i){return this.length>i.length?this.clone().iuxor(i):i.clone().iuxor(this)},o.prototype.inotn=function(i){r(typeof i=="number"&&i>=0);var c=Math.ceil(i/26)|0,l=i%26;this._expand(c),l>0&&c--;for(var f=0;f<c;f++)this.words[f]=~this.words[f]&67108863;return l>0&&(this.words[f]=~this.words[f]&67108863>>26-l),this.strip()},o.prototype.notn=function(i){return this.clone().inotn(i)},o.prototype.setn=function(i,c){r(typeof i=="number"&&i>=0);var l=i/26|0,f=i%26;return this._expand(l+1),c?this.words[l]=this.words[l]|1<<f:this.words[l]=this.words[l]&~(1<<f),this.strip()},o.prototype.iadd=function(i){var c;if(this.negative!==0&&i.negative===0)return this.negative=0,c=this.isub(i),this.negative^=1,this._normSign();if(this.negative===0&&i.negative!==0)return i.negative=0,c=this.isub(i),i.negative=1,c._normSign();var l,f;this.length>i.length?(l=this,f=i):(l=i,f=this);for(var g=0,_=0;_<f.length;_++)c=(l.words[_]|0)+(f.words[_]|0)+g,this.words[_]=c&67108863,g=c>>>26;for(;g!==0&&_<l.length;_++)c=(l.words[_]|0)+g,this.words[_]=c&67108863,g=c>>>26;if(this.length=l.length,g!==0)this.words[this.length]=g,this.length++;else if(l!==this)for(;_<l.length;_++)this.words[_]=l.words[_];return this},o.prototype.add=function(i){var c;return i.negative!==0&&this.negative===0?(i.negative=0,c=this.sub(i),i.negative^=1,c):i.negative===0&&this.negative!==0?(this.negative=0,c=i.sub(this),this.negative=1,c):this.length>i.length?this.clone().iadd(i):i.clone().iadd(this)},o.prototype.isub=function(i){if(i.negative!==0){i.negative=0;var c=this.iadd(i);return i.negative=1,c._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(i),this.negative=1,this._normSign();var l=this.cmp(i);if(l===0)return this.negative=0,this.length=1,this.words[0]=0,this;var f,g;l>0?(f=this,g=i):(f=i,g=this);for(var _=0,b=0;b<g.length;b++)c=(f.words[b]|0)-(g.words[b]|0)+_,_=c>>26,this.words[b]=c&67108863;for(;_!==0&&b<f.length;b++)c=(f.words[b]|0)+_,_=c>>26,this.words[b]=c&67108863;if(_===0&&b<f.length&&f!==this)for(;b<f.length;b++)this.words[b]=f.words[b];return this.length=Math.max(this.length,b),f!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(i){return this.clone().isub(i)};function T(p,i,c){c.negative=i.negative^p.negative;var l=p.length+i.length|0;c.length=l,l=l-1|0;var f=p.words[0]|0,g=i.words[0]|0,_=f*g,b=_&67108863,h=_/67108864|0;c.words[0]=b;for(var a=1;a<l;a++){for(var d=h>>>26,B=h&67108863,P=Math.min(a,i.length-1),q=Math.max(0,a-p.length+1);q<=P;q++){var F=a-q|0;f=p.words[F]|0,g=i.words[q]|0,_=f*g+B,d+=_/67108864|0,B=_&67108863}c.words[a]=B|0,h=d|0}return h!==0?c.words[a]=h|0:c.length--,c.strip()}var R=function(i,c,l){var f=i.words,g=c.words,_=l.words,b=0,h,a,d,B=f[0]|0,P=B&8191,q=B>>>13,F=f[1]|0,H=F&8191,z=F>>>13,qe=f[2]|0,j=qe&8191,K=qe>>>13,tr=f[3]|0,Q=tr&8191,Y=tr>>>13,nr=f[4]|0,G=nr&8191,Z=nr>>>13,rr=f[5]|0,X=rr&8191,ee=rr>>>13,ir=f[6]|0,te=ir&8191,ne=ir>>>13,or=f[7]|0,re=or&8191,ie=or>>>13,ar=f[8]|0,oe=ar&8191,ae=ar>>>13,sr=f[9]|0,se=sr&8191,ce=sr>>>13,cr=g[0]|0,le=cr&8191,fe=cr>>>13,lr=g[1]|0,ue=lr&8191,he=lr>>>13,fr=g[2]|0,de=fr&8191,ge=fr>>>13,ur=g[3]|0,pe=ur&8191,me=ur>>>13,hr=g[4]|0,_e=hr&8191,ve=hr>>>13,dr=g[5]|0,we=dr&8191,ye=dr>>>13,gr=g[6]|0,be=gr&8191,Me=gr>>>13,pr=g[7]|0,xe=pr&8191,Ee=pr>>>13,mr=g[8]|0,Se=mr&8191,Ce=mr>>>13,_r=g[9]|0,ke=_r&8191,Re=_r>>>13;l.negative=i.negative^c.negative,l.length=19,h=Math.imul(P,le),a=Math.imul(P,fe),a=a+Math.imul(q,le)|0,d=Math.imul(q,fe);var $t=(b+h|0)+((a&8191)<<13)|0;b=(d+(a>>>13)|0)+($t>>>26)|0,$t&=67108863,h=Math.imul(H,le),a=Math.imul(H,fe),a=a+Math.imul(z,le)|0,d=Math.imul(z,fe),h=h+Math.imul(P,ue)|0,a=a+Math.imul(P,he)|0,a=a+Math.imul(q,ue)|0,d=d+Math.imul(q,he)|0;var Dt=(b+h|0)+((a&8191)<<13)|0;b=(d+(a>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,h=Math.imul(j,le),a=Math.imul(j,fe),a=a+Math.imul(K,le)|0,d=Math.imul(K,fe),h=h+Math.imul(H,ue)|0,a=a+Math.imul(H,he)|0,a=a+Math.imul(z,ue)|0,d=d+Math.imul(z,he)|0,h=h+Math.imul(P,de)|0,a=a+Math.imul(P,ge)|0,a=a+Math.imul(q,de)|0,d=d+Math.imul(q,ge)|0;var Ft=(b+h|0)+((a&8191)<<13)|0;b=(d+(a>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,h=Math.imul(Q,le),a=Math.imul(Q,fe),a=a+Math.imul(Y,le)|0,d=Math.imul(Y,fe),h=h+Math.imul(j,ue)|0,a=a+Math.imul(j,he)|0,a=a+Math.imul(K,ue)|0,d=d+Math.imul(K,he)|0,h=h+Math.imul(H,de)|0,a=a+Math.imul(H,ge)|0,a=a+Math.imul(z,de)|0,d=d+Math.imul(z,ge)|0,h=h+Math.imul(P,pe)|0,a=a+Math.imul(P,me)|0,a=a+Math.imul(q,pe)|0,d=d+Math.imul(q,me)|0;var Wt=(b+h|0)+((a&8191)<<13)|0;b=(d+(a>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,h=Math.imul(G,le),a=Math.imul(G,fe),a=a+Math.imul(Z,le)|0,d=Math.imul(Z,fe),h=h+Math.imul(Q,ue)|0,a=a+Math.imul(Q,he)|0,a=a+Math.imul(Y,ue)|0,d=d+Math.imul(Y,he)|0,h=h+Math.imul(j,de)|0,a=a+Math.imul(j,ge)|0,a=a+Math.imul(K,de)|0,d=d+Math.imul(K,ge)|0,h=h+Math.imul(H,pe)|0,a=a+Math.imul(H,me)|0,a=a+Math.imul(z,pe)|0,d=d+Math.imul(z,me)|0,h=h+Math.imul(P,_e)|0,a=a+Math.imul(P,ve)|0,a=a+Math.imul(q,_e)|0,d=d+Math.imul(q,ve)|0;var Ht=(b+h|0)+((a&8191)<<13)|0;b=(d+(a>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,h=Math.imul(X,le),a=Math.imul(X,fe),a=a+Math.imul(ee,le)|0,d=Math.imul(ee,fe),h=h+Math.imul(G,ue)|0,a=a+Math.imul(G,he)|0,a=a+Math.imul(Z,ue)|0,d=d+Math.imul(Z,he)|0,h=h+Math.imul(Q,de)|0,a=a+Math.imul(Q,ge)|0,a=a+Math.imul(Y,de)|0,d=d+Math.imul(Y,ge)|0,h=h+Math.imul(j,pe)|0,a=a+Math.imul(j,me)|0,a=a+Math.imul(K,pe)|0,d=d+Math.imul(K,me)|0,h=h+Math.imul(H,_e)|0,a=a+Math.imul(H,ve)|0,a=a+Math.imul(z,_e)|0,d=d+Math.imul(z,ve)|0,h=h+Math.imul(P,we)|0,a=a+Math.imul(P,ye)|0,a=a+Math.imul(q,we)|0,d=d+Math.imul(q,ye)|0;var zt=(b+h|0)+((a&8191)<<13)|0;b=(d+(a>>>13)|0)+(zt>>>26)|0,zt&=67108863,h=Math.imul(te,le),a=Math.imul(te,fe),a=a+Math.imul(ne,le)|0,d=Math.imul(ne,fe),h=h+Math.imul(X,ue)|0,a=a+Math.imul(X,he)|0,a=a+Math.imul(ee,ue)|0,d=d+Math.imul(ee,he)|0,h=h+Math.imul(G,de)|0,a=a+Math.imul(G,ge)|0,a=a+Math.imul(Z,de)|0,d=d+Math.imul(Z,ge)|0,h=h+Math.imul(Q,pe)|0,a=a+Math.imul(Q,me)|0,a=a+Math.imul(Y,pe)|0,d=d+Math.imul(Y,me)|0,h=h+Math.imul(j,_e)|0,a=a+Math.imul(j,ve)|0,a=a+Math.imul(K,_e)|0,d=d+Math.imul(K,ve)|0,h=h+Math.imul(H,we)|0,a=a+Math.imul(H,ye)|0,a=a+Math.imul(z,we)|0,d=d+Math.imul(z,ye)|0,h=h+Math.imul(P,be)|0,a=a+Math.imul(P,Me)|0,a=a+Math.imul(q,be)|0,d=d+Math.imul(q,Me)|0;var jt=(b+h|0)+((a&8191)<<13)|0;b=(d+(a>>>13)|0)+(jt>>>26)|0,jt&=67108863,h=Math.imul(re,le),a=Math.imul(re,fe),a=a+Math.imul(ie,le)|0,d=Math.imul(ie,fe),h=h+Math.imul(te,ue)|0,a=a+Math.imul(te,he)|0,a=a+Math.imul(ne,ue)|0,d=d+Math.imul(ne,he)|0,h=h+Math.imul(X,de)|0,a=a+Math.imul(X,ge)|0,a=a+Math.imul(ee,de)|0,d=d+Math.imul(ee,ge)|0,h=h+Math.imul(G,pe)|0,a=a+Math.imul(G,me)|0,a=a+Math.imul(Z,pe)|0,d=d+Math.imul(Z,me)|0,h=h+Math.imul(Q,_e)|0,a=a+Math.imul(Q,ve)|0,a=a+Math.imul(Y,_e)|0,d=d+Math.imul(Y,ve)|0,h=h+Math.imul(j,we)|0,a=a+Math.imul(j,ye)|0,a=a+Math.imul(K,we)|0,d=d+Math.imul(K,ye)|0,h=h+Math.imul(H,be)|0,a=a+Math.imul(H,Me)|0,a=a+Math.imul(z,be)|0,d=d+Math.imul(z,Me)|0,h=h+Math.imul(P,xe)|0,a=a+Math.imul(P,Ee)|0,a=a+Math.imul(q,xe)|0,d=d+Math.imul(q,Ee)|0;var Jt=(b+h|0)+((a&8191)<<13)|0;b=(d+(a>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,h=Math.imul(oe,le),a=Math.imul(oe,fe),a=a+Math.imul(ae,le)|0,d=Math.imul(ae,fe),h=h+Math.imul(re,ue)|0,a=a+Math.imul(re,he)|0,a=a+Math.imul(ie,ue)|0,d=d+Math.imul(ie,he)|0,h=h+Math.imul(te,de)|0,a=a+Math.imul(te,ge)|0,a=a+Math.imul(ne,de)|0,d=d+Math.imul(ne,ge)|0,h=h+Math.imul(X,pe)|0,a=a+Math.imul(X,me)|0,a=a+Math.imul(ee,pe)|0,d=d+Math.imul(ee,me)|0,h=h+Math.imul(G,_e)|0,a=a+Math.imul(G,ve)|0,a=a+Math.imul(Z,_e)|0,d=d+Math.imul(Z,ve)|0,h=h+Math.imul(Q,we)|0,a=a+Math.imul(Q,ye)|0,a=a+Math.imul(Y,we)|0,d=d+Math.imul(Y,ye)|0,h=h+Math.imul(j,be)|0,a=a+Math.imul(j,Me)|0,a=a+Math.imul(K,be)|0,d=d+Math.imul(K,Me)|0,h=h+Math.imul(H,xe)|0,a=a+Math.imul(H,Ee)|0,a=a+Math.imul(z,xe)|0,d=d+Math.imul(z,Ee)|0,h=h+Math.imul(P,Se)|0,a=a+Math.imul(P,Ce)|0,a=a+Math.imul(q,Se)|0,d=d+Math.imul(q,Ce)|0;var Kt=(b+h|0)+((a&8191)<<13)|0;b=(d+(a>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,h=Math.imul(se,le),a=Math.imul(se,fe),a=a+Math.imul(ce,le)|0,d=Math.imul(ce,fe),h=h+Math.imul(oe,ue)|0,a=a+Math.imul(oe,he)|0,a=a+Math.imul(ae,ue)|0,d=d+Math.imul(ae,he)|0,h=h+Math.imul(re,de)|0,a=a+Math.imul(re,ge)|0,a=a+Math.imul(ie,de)|0,d=d+Math.imul(ie,ge)|0,h=h+Math.imul(te,pe)|0,a=a+Math.imul(te,me)|0,a=a+Math.imul(ne,pe)|0,d=d+Math.imul(ne,me)|0,h=h+Math.imul(X,_e)|0,a=a+Math.imul(X,ve)|0,a=a+Math.imul(ee,_e)|0,d=d+Math.imul(ee,ve)|0,h=h+Math.imul(G,we)|0,a=a+Math.imul(G,ye)|0,a=a+Math.imul(Z,we)|0,d=d+Math.imul(Z,ye)|0,h=h+Math.imul(Q,be)|0,a=a+Math.imul(Q,Me)|0,a=a+Math.imul(Y,be)|0,d=d+Math.imul(Y,Me)|0,h=h+Math.imul(j,xe)|0,a=a+Math.imul(j,Ee)|0,a=a+Math.imul(K,xe)|0,d=d+Math.imul(K,Ee)|0,h=h+Math.imul(H,Se)|0,a=a+Math.imul(H,Ce)|0,a=a+Math.imul(z,Se)|0,d=d+Math.imul(z,Ce)|0,h=h+Math.imul(P,ke)|0,a=a+Math.imul(P,Re)|0,a=a+Math.imul(q,ke)|0,d=d+Math.imul(q,Re)|0;var Vt=(b+h|0)+((a&8191)<<13)|0;b=(d+(a>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,h=Math.imul(se,ue),a=Math.imul(se,he),a=a+Math.imul(ce,ue)|0,d=Math.imul(ce,he),h=h+Math.imul(oe,de)|0,a=a+Math.imul(oe,ge)|0,a=a+Math.imul(ae,de)|0,d=d+Math.imul(ae,ge)|0,h=h+Math.imul(re,pe)|0,a=a+Math.imul(re,me)|0,a=a+Math.imul(ie,pe)|0,d=d+Math.imul(ie,me)|0,h=h+Math.imul(te,_e)|0,a=a+Math.imul(te,ve)|0,a=a+Math.imul(ne,_e)|0,d=d+Math.imul(ne,ve)|0,h=h+Math.imul(X,we)|0,a=a+Math.imul(X,ye)|0,a=a+Math.imul(ee,we)|0,d=d+Math.imul(ee,ye)|0,h=h+Math.imul(G,be)|0,a=a+Math.imul(G,Me)|0,a=a+Math.imul(Z,be)|0,d=d+Math.imul(Z,Me)|0,h=h+Math.imul(Q,xe)|0,a=a+Math.imul(Q,Ee)|0,a=a+Math.imul(Y,xe)|0,d=d+Math.imul(Y,Ee)|0,h=h+Math.imul(j,Se)|0,a=a+Math.imul(j,Ce)|0,a=a+Math.imul(K,Se)|0,d=d+Math.imul(K,Ce)|0,h=h+Math.imul(H,ke)|0,a=a+Math.imul(H,Re)|0,a=a+Math.imul(z,ke)|0,d=d+Math.imul(z,Re)|0;var Qt=(b+h|0)+((a&8191)<<13)|0;b=(d+(a>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,h=Math.imul(se,de),a=Math.imul(se,ge),a=a+Math.imul(ce,de)|0,d=Math.imul(ce,ge),h=h+Math.imul(oe,pe)|0,a=a+Math.imul(oe,me)|0,a=a+Math.imul(ae,pe)|0,d=d+Math.imul(ae,me)|0,h=h+Math.imul(re,_e)|0,a=a+Math.imul(re,ve)|0,a=a+Math.imul(ie,_e)|0,d=d+Math.imul(ie,ve)|0,h=h+Math.imul(te,we)|0,a=a+Math.imul(te,ye)|0,a=a+Math.imul(ne,we)|0,d=d+Math.imul(ne,ye)|0,h=h+Math.imul(X,be)|0,a=a+Math.imul(X,Me)|0,a=a+Math.imul(ee,be)|0,d=d+Math.imul(ee,Me)|0,h=h+Math.imul(G,xe)|0,a=a+Math.imul(G,Ee)|0,a=a+Math.imul(Z,xe)|0,d=d+Math.imul(Z,Ee)|0,h=h+Math.imul(Q,Se)|0,a=a+Math.imul(Q,Ce)|0,a=a+Math.imul(Y,Se)|0,d=d+Math.imul(Y,Ce)|0,h=h+Math.imul(j,ke)|0,a=a+Math.imul(j,Re)|0,a=a+Math.imul(K,ke)|0,d=d+Math.imul(K,Re)|0;var Yt=(b+h|0)+((a&8191)<<13)|0;b=(d+(a>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,h=Math.imul(se,pe),a=Math.imul(se,me),a=a+Math.imul(ce,pe)|0,d=Math.imul(ce,me),h=h+Math.imul(oe,_e)|0,a=a+Math.imul(oe,ve)|0,a=a+Math.imul(ae,_e)|0,d=d+Math.imul(ae,ve)|0,h=h+Math.imul(re,we)|0,a=a+Math.imul(re,ye)|0,a=a+Math.imul(ie,we)|0,d=d+Math.imul(ie,ye)|0,h=h+Math.imul(te,be)|0,a=a+Math.imul(te,Me)|0,a=a+Math.imul(ne,be)|0,d=d+Math.imul(ne,Me)|0,h=h+Math.imul(X,xe)|0,a=a+Math.imul(X,Ee)|0,a=a+Math.imul(ee,xe)|0,d=d+Math.imul(ee,Ee)|0,h=h+Math.imul(G,Se)|0,a=a+Math.imul(G,Ce)|0,a=a+Math.imul(Z,Se)|0,d=d+Math.imul(Z,Ce)|0,h=h+Math.imul(Q,ke)|0,a=a+Math.imul(Q,Re)|0,a=a+Math.imul(Y,ke)|0,d=d+Math.imul(Y,Re)|0;var Gt=(b+h|0)+((a&8191)<<13)|0;b=(d+(a>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,h=Math.imul(se,_e),a=Math.imul(se,ve),a=a+Math.imul(ce,_e)|0,d=Math.imul(ce,ve),h=h+Math.imul(oe,we)|0,a=a+Math.imul(oe,ye)|0,a=a+Math.imul(ae,we)|0,d=d+Math.imul(ae,ye)|0,h=h+Math.imul(re,be)|0,a=a+Math.imul(re,Me)|0,a=a+Math.imul(ie,be)|0,d=d+Math.imul(ie,Me)|0,h=h+Math.imul(te,xe)|0,a=a+Math.imul(te,Ee)|0,a=a+Math.imul(ne,xe)|0,d=d+Math.imul(ne,Ee)|0,h=h+Math.imul(X,Se)|0,a=a+Math.imul(X,Ce)|0,a=a+Math.imul(ee,Se)|0,d=d+Math.imul(ee,Ce)|0,h=h+Math.imul(G,ke)|0,a=a+Math.imul(G,Re)|0,a=a+Math.imul(Z,ke)|0,d=d+Math.imul(Z,Re)|0;var Zt=(b+h|0)+((a&8191)<<13)|0;b=(d+(a>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,h=Math.imul(se,we),a=Math.imul(se,ye),a=a+Math.imul(ce,we)|0,d=Math.imul(ce,ye),h=h+Math.imul(oe,be)|0,a=a+Math.imul(oe,Me)|0,a=a+Math.imul(ae,be)|0,d=d+Math.imul(ae,Me)|0,h=h+Math.imul(re,xe)|0,a=a+Math.imul(re,Ee)|0,a=a+Math.imul(ie,xe)|0,d=d+Math.imul(ie,Ee)|0,h=h+Math.imul(te,Se)|0,a=a+Math.imul(te,Ce)|0,a=a+Math.imul(ne,Se)|0,d=d+Math.imul(ne,Ce)|0,h=h+Math.imul(X,ke)|0,a=a+Math.imul(X,Re)|0,a=a+Math.imul(ee,ke)|0,d=d+Math.imul(ee,Re)|0;var Xt=(b+h|0)+((a&8191)<<13)|0;b=(d+(a>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,h=Math.imul(se,be),a=Math.imul(se,Me),a=a+Math.imul(ce,be)|0,d=Math.imul(ce,Me),h=h+Math.imul(oe,xe)|0,a=a+Math.imul(oe,Ee)|0,a=a+Math.imul(ae,xe)|0,d=d+Math.imul(ae,Ee)|0,h=h+Math.imul(re,Se)|0,a=a+Math.imul(re,Ce)|0,a=a+Math.imul(ie,Se)|0,d=d+Math.imul(ie,Ce)|0,h=h+Math.imul(te,ke)|0,a=a+Math.imul(te,Re)|0,a=a+Math.imul(ne,ke)|0,d=d+Math.imul(ne,Re)|0;var en=(b+h|0)+((a&8191)<<13)|0;b=(d+(a>>>13)|0)+(en>>>26)|0,en&=67108863,h=Math.imul(se,xe),a=Math.imul(se,Ee),a=a+Math.imul(ce,xe)|0,d=Math.imul(ce,Ee),h=h+Math.imul(oe,Se)|0,a=a+Math.imul(oe,Ce)|0,a=a+Math.imul(ae,Se)|0,d=d+Math.imul(ae,Ce)|0,h=h+Math.imul(re,ke)|0,a=a+Math.imul(re,Re)|0,a=a+Math.imul(ie,ke)|0,d=d+Math.imul(ie,Re)|0;var tn=(b+h|0)+((a&8191)<<13)|0;b=(d+(a>>>13)|0)+(tn>>>26)|0,tn&=67108863,h=Math.imul(se,Se),a=Math.imul(se,Ce),a=a+Math.imul(ce,Se)|0,d=Math.imul(ce,Ce),h=h+Math.imul(oe,ke)|0,a=a+Math.imul(oe,Re)|0,a=a+Math.imul(ae,ke)|0,d=d+Math.imul(ae,Re)|0;var nn=(b+h|0)+((a&8191)<<13)|0;b=(d+(a>>>13)|0)+(nn>>>26)|0,nn&=67108863,h=Math.imul(se,ke),a=Math.imul(se,Re),a=a+Math.imul(ce,ke)|0,d=Math.imul(ce,Re);var rn=(b+h|0)+((a&8191)<<13)|0;return b=(d+(a>>>13)|0)+(rn>>>26)|0,rn&=67108863,_[0]=$t,_[1]=Dt,_[2]=Ft,_[3]=Wt,_[4]=Ht,_[5]=zt,_[6]=jt,_[7]=Jt,_[8]=Kt,_[9]=Vt,_[10]=Qt,_[11]=Yt,_[12]=Gt,_[13]=Zt,_[14]=Xt,_[15]=en,_[16]=tn,_[17]=nn,_[18]=rn,b!==0&&(_[19]=b,l.length++),l};Math.imul||(R=T);function N(p,i,c){c.negative=i.negative^p.negative,c.length=p.length+i.length;for(var l=0,f=0,g=0;g<c.length-1;g++){var _=f;f=0;for(var b=l&67108863,h=Math.min(g,i.length-1),a=Math.max(0,g-p.length+1);a<=h;a++){var d=g-a,B=p.words[d]|0,P=i.words[a]|0,q=B*P,F=q&67108863;_=_+(q/67108864|0)|0,F=F+b|0,b=F&67108863,_=_+(F>>>26)|0,f+=_>>>26,_&=67108863}c.words[g]=b,l=_,_=f}return l!==0?c.words[g]=l:c.length--,c.strip()}function w(p,i,c){var l=new M;return l.mulp(p,i,c)}o.prototype.mulTo=function(i,c){var l,f=this.length+i.length;return this.length===10&&i.length===10?l=R(this,i,c):f<63?l=T(this,i,c):f<1024?l=N(this,i,c):l=w(this,i,c),l};function M(p,i){this.x=p,this.y=i}M.prototype.makeRBT=function(i){for(var c=new Array(i),l=o.prototype._countBits(i)-1,f=0;f<i;f++)c[f]=this.revBin(f,l,i);return c},M.prototype.revBin=function(i,c,l){if(i===0||i===l-1)return i;for(var f=0,g=0;g<c;g++)f|=(i&1)<<c-g-1,i>>=1;return f},M.prototype.permute=function(i,c,l,f,g,_){for(var b=0;b<_;b++)f[b]=c[i[b]],g[b]=l[i[b]]},M.prototype.transform=function(i,c,l,f,g,_){this.permute(_,i,c,l,f,g);for(var b=1;b<g;b<<=1)for(var h=b<<1,a=Math.cos(2*Math.PI/h),d=Math.sin(2*Math.PI/h),B=0;B<g;B+=h)for(var P=a,q=d,F=0;F<b;F++){var H=l[B+F],z=f[B+F],qe=l[B+F+b],j=f[B+F+b],K=P*qe-q*j;j=P*j+q*qe,qe=K,l[B+F]=H+qe,f[B+F]=z+j,l[B+F+b]=H-qe,f[B+F+b]=z-j,F!==h&&(K=a*P-d*q,q=a*q+d*P,P=K)}},M.prototype.guessLen13b=function(i,c){var l=Math.max(c,i)|1,f=l&1,g=0;for(l=l/2|0;l;l=l>>>1)g++;return 1<<g+1+f},M.prototype.conjugate=function(i,c,l){if(!(l<=1))for(var f=0;f<l/2;f++){var g=i[f];i[f]=i[l-f-1],i[l-f-1]=g,g=c[f],c[f]=-c[l-f-1],c[l-f-1]=-g}},M.prototype.normalize13b=function(i,c){for(var l=0,f=0;f<c/2;f++){var g=Math.round(i[2*f+1]/c)*8192+Math.round(i[2*f]/c)+l;i[f]=g&67108863,g<67108864?l=0:l=g/67108864|0}return i},M.prototype.convert13b=function(i,c,l,f){for(var g=0,_=0;_<c;_++)g=g+(i[_]|0),l[2*_]=g&8191,g=g>>>13,l[2*_+1]=g&8191,g=g>>>13;for(_=2*c;_<f;++_)l[_]=0;r(g===0),r((g&-8192)===0)},M.prototype.stub=function(i){for(var c=new Array(i),l=0;l<i;l++)c[l]=0;return c},M.prototype.mulp=function(i,c,l){var f=2*this.guessLen13b(i.length,c.length),g=this.makeRBT(f),_=this.stub(f),b=new Array(f),h=new Array(f),a=new Array(f),d=new Array(f),B=new Array(f),P=new Array(f),q=l.words;q.length=f,this.convert13b(i.words,i.length,b,f),this.convert13b(c.words,c.length,d,f),this.transform(b,_,h,a,f,g),this.transform(d,_,B,P,f,g);for(var F=0;F<f;F++){var H=h[F]*B[F]-a[F]*P[F];a[F]=h[F]*P[F]+a[F]*B[F],h[F]=H}return this.conjugate(h,a,f),this.transform(h,a,q,_,f,g),this.conjugate(q,_,f),this.normalize13b(q,f),l.negative=i.negative^c.negative,l.length=i.length+c.length,l.strip()},o.prototype.mul=function(i){var c=new o(null);return c.words=new Array(this.length+i.length),this.mulTo(i,c)},o.prototype.mulf=function(i){var c=new o(null);return c.words=new Array(this.length+i.length),w(this,i,c)},o.prototype.imul=function(i){return this.clone().mulTo(i,this)},o.prototype.imuln=function(i){r(typeof i=="number"),r(i<67108864);for(var c=0,l=0;l<this.length;l++){var f=(this.words[l]|0)*i,g=(f&67108863)+(c&67108863);c>>=26,c+=f/67108864|0,c+=g>>>26,this.words[l]=g&67108863}return c!==0&&(this.words[l]=c,this.length++),this},o.prototype.muln=function(i){return this.clone().imuln(i)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(i){var c=I(i);if(c.length===0)return new o(1);for(var l=this,f=0;f<c.length&&c[f]===0;f++,l=l.sqr());if(++f<c.length)for(var g=l.sqr();f<c.length;f++,g=g.sqr())c[f]!==0&&(l=l.mul(g));return l},o.prototype.iushln=function(i){r(typeof i=="number"&&i>=0);var c=i%26,l=(i-c)/26,f=67108863>>>26-c<<26-c,g;if(c!==0){var _=0;for(g=0;g<this.length;g++){var b=this.words[g]&f,h=(this.words[g]|0)-b<<c;this.words[g]=h|_,_=b>>>26-c}_&&(this.words[g]=_,this.length++)}if(l!==0){for(g=this.length-1;g>=0;g--)this.words[g+l]=this.words[g];for(g=0;g<l;g++)this.words[g]=0;this.length+=l}return this.strip()},o.prototype.ishln=function(i){return r(this.negative===0),this.iushln(i)},o.prototype.iushrn=function(i,c,l){r(typeof i=="number"&&i>=0);var f;c?f=(c-c%26)/26:f=0;var g=i%26,_=Math.min((i-g)/26,this.length),b=67108863^67108863>>>g<<g,h=l;if(f-=_,f=Math.max(0,f),h){for(var a=0;a<_;a++)h.words[a]=this.words[a];h.length=_}if(_!==0)if(this.length>_)for(this.length-=_,a=0;a<this.length;a++)this.words[a]=this.words[a+_];else this.words[0]=0,this.length=1;var d=0;for(a=this.length-1;a>=0&&(d!==0||a>=f);a--){var B=this.words[a]|0;this.words[a]=d<<26-g|B>>>g,d=B&b}return h&&d!==0&&(h.words[h.length++]=d),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(i,c,l){return r(this.negative===0),this.iushrn(i,c,l)},o.prototype.shln=function(i){return this.clone().ishln(i)},o.prototype.ushln=function(i){return this.clone().iushln(i)},o.prototype.shrn=function(i){return this.clone().ishrn(i)},o.prototype.ushrn=function(i){return this.clone().iushrn(i)},o.prototype.testn=function(i){r(typeof i=="number"&&i>=0);var c=i%26,l=(i-c)/26,f=1<<c;if(this.length<=l)return!1;var g=this.words[l];return!!(g&f)},o.prototype.imaskn=function(i){r(typeof i=="number"&&i>=0);var c=i%26,l=(i-c)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=l)return this;if(c!==0&&l++,this.length=Math.min(l,this.length),c!==0){var f=67108863^67108863>>>c<<c;this.words[this.length-1]&=f}return this.strip()},o.prototype.maskn=function(i){return this.clone().imaskn(i)},o.prototype.iaddn=function(i){return r(typeof i=="number"),r(i<67108864),i<0?this.isubn(-i):this.negative!==0?this.length===1&&(this.words[0]|0)<i?(this.words[0]=i-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(i),this.negative=1,this):this._iaddn(i)},o.prototype._iaddn=function(i){this.words[0]+=i;for(var c=0;c<this.length&&this.words[c]>=67108864;c++)this.words[c]-=67108864,c===this.length-1?this.words[c+1]=1:this.words[c+1]++;return this.length=Math.max(this.length,c+1),this},o.prototype.isubn=function(i){if(r(typeof i=="number"),r(i<67108864),i<0)return this.iaddn(-i);if(this.negative!==0)return this.negative=0,this.iaddn(i),this.negative=1,this;if(this.words[0]-=i,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var c=0;c<this.length&&this.words[c]<0;c++)this.words[c]+=67108864,this.words[c+1]-=1;return this.strip()},o.prototype.addn=function(i){return this.clone().iaddn(i)},o.prototype.subn=function(i){return this.clone().isubn(i)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(i,c,l){var f=i.length+l,g;this._expand(f);var _,b=0;for(g=0;g<i.length;g++){_=(this.words[g+l]|0)+b;var h=(i.words[g]|0)*c;_-=h&67108863,b=(_>>26)-(h/67108864|0),this.words[g+l]=_&67108863}for(;g<this.length-l;g++)_=(this.words[g+l]|0)+b,b=_>>26,this.words[g+l]=_&67108863;if(b===0)return this.strip();for(r(b===-1),b=0,g=0;g<this.length;g++)_=-(this.words[g]|0)+b,b=_>>26,this.words[g]=_&67108863;return this.negative=1,this.strip()},o.prototype._wordDiv=function(i,c){var l=this.length-i.length,f=this.clone(),g=i,_=g.words[g.length-1]|0,b=this._countBits(_);l=26-b,l!==0&&(g=g.ushln(l),f.iushln(l),_=g.words[g.length-1]|0);var h=f.length-g.length,a;if(c!=="mod"){a=new o(null),a.length=h+1,a.words=new Array(a.length);for(var d=0;d<a.length;d++)a.words[d]=0}var B=f.clone()._ishlnsubmul(g,1,h);B.negative===0&&(f=B,a&&(a.words[h]=1));for(var P=h-1;P>=0;P--){var q=(f.words[g.length+P]|0)*67108864+(f.words[g.length+P-1]|0);for(q=Math.min(q/_|0,67108863),f._ishlnsubmul(g,q,P);f.negative!==0;)q--,f.negative=0,f._ishlnsubmul(g,1,P),f.isZero()||(f.negative^=1);a&&(a.words[P]=q)}return a&&a.strip(),f.strip(),c!=="div"&&l!==0&&f.iushrn(l),{div:a||null,mod:f}},o.prototype.divmod=function(i,c,l){if(r(!i.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var f,g,_;return this.negative!==0&&i.negative===0?(_=this.neg().divmod(i,c),c!=="mod"&&(f=_.div.neg()),c!=="div"&&(g=_.mod.neg(),l&&g.negative!==0&&g.iadd(i)),{div:f,mod:g}):this.negative===0&&i.negative!==0?(_=this.divmod(i.neg(),c),c!=="mod"&&(f=_.div.neg()),{div:f,mod:_.mod}):this.negative&i.negative?(_=this.neg().divmod(i.neg(),c),c!=="div"&&(g=_.mod.neg(),l&&g.negative!==0&&g.isub(i)),{div:_.div,mod:g}):i.length>this.length||this.cmp(i)<0?{div:new o(0),mod:this}:i.length===1?c==="div"?{div:this.divn(i.words[0]),mod:null}:c==="mod"?{div:null,mod:new o(this.modn(i.words[0]))}:{div:this.divn(i.words[0]),mod:new o(this.modn(i.words[0]))}:this._wordDiv(i,c)},o.prototype.div=function(i){return this.divmod(i,"div",!1).div},o.prototype.mod=function(i){return this.divmod(i,"mod",!1).mod},o.prototype.umod=function(i){return this.divmod(i,"mod",!0).mod},o.prototype.divRound=function(i){var c=this.divmod(i);if(c.mod.isZero())return c.div;var l=c.div.negative!==0?c.mod.isub(i):c.mod,f=i.ushrn(1),g=i.andln(1),_=l.cmp(f);return _<0||g===1&&_===0?c.div:c.div.negative!==0?c.div.isubn(1):c.div.iaddn(1)},o.prototype.modn=function(i){r(i<=67108863);for(var c=(1<<26)%i,l=0,f=this.length-1;f>=0;f--)l=(c*l+(this.words[f]|0))%i;return l},o.prototype.idivn=function(i){r(i<=67108863);for(var c=0,l=this.length-1;l>=0;l--){var f=(this.words[l]|0)+c*67108864;this.words[l]=f/i|0,c=f%i}return this.strip()},o.prototype.divn=function(i){return this.clone().idivn(i)},o.prototype.egcd=function(i){r(i.negative===0),r(!i.isZero());var c=this,l=i.clone();c.negative!==0?c=c.umod(i):c=c.clone();for(var f=new o(1),g=new o(0),_=new o(0),b=new o(1),h=0;c.isEven()&&l.isEven();)c.iushrn(1),l.iushrn(1),++h;for(var a=l.clone(),d=c.clone();!c.isZero();){for(var B=0,P=1;!(c.words[0]&P)&&B<26;++B,P<<=1);if(B>0)for(c.iushrn(B);B-- >0;)(f.isOdd()||g.isOdd())&&(f.iadd(a),g.isub(d)),f.iushrn(1),g.iushrn(1);for(var q=0,F=1;!(l.words[0]&F)&&q<26;++q,F<<=1);if(q>0)for(l.iushrn(q);q-- >0;)(_.isOdd()||b.isOdd())&&(_.iadd(a),b.isub(d)),_.iushrn(1),b.iushrn(1);c.cmp(l)>=0?(c.isub(l),f.isub(_),g.isub(b)):(l.isub(c),_.isub(f),b.isub(g))}return{a:_,b,gcd:l.iushln(h)}},o.prototype._invmp=function(i){r(i.negative===0),r(!i.isZero());var c=this,l=i.clone();c.negative!==0?c=c.umod(i):c=c.clone();for(var f=new o(1),g=new o(0),_=l.clone();c.cmpn(1)>0&&l.cmpn(1)>0;){for(var b=0,h=1;!(c.words[0]&h)&&b<26;++b,h<<=1);if(b>0)for(c.iushrn(b);b-- >0;)f.isOdd()&&f.iadd(_),f.iushrn(1);for(var a=0,d=1;!(l.words[0]&d)&&a<26;++a,d<<=1);if(a>0)for(l.iushrn(a);a-- >0;)g.isOdd()&&g.iadd(_),g.iushrn(1);c.cmp(l)>=0?(c.isub(l),f.isub(g)):(l.isub(c),g.isub(f))}var B;return c.cmpn(1)===0?B=f:B=g,B.cmpn(0)<0&&B.iadd(i),B},o.prototype.gcd=function(i){if(this.isZero())return i.abs();if(i.isZero())return this.abs();var c=this.clone(),l=i.clone();c.negative=0,l.negative=0;for(var f=0;c.isEven()&&l.isEven();f++)c.iushrn(1),l.iushrn(1);do{for(;c.isEven();)c.iushrn(1);for(;l.isEven();)l.iushrn(1);var g=c.cmp(l);if(g<0){var _=c;c=l,l=_}else if(g===0||l.cmpn(1)===0)break;c.isub(l)}while(!0);return l.iushln(f)},o.prototype.invm=function(i){return this.egcd(i).a.umod(i)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(i){return this.words[0]&i},o.prototype.bincn=function(i){r(typeof i=="number");var c=i%26,l=(i-c)/26,f=1<<c;if(this.length<=l)return this._expand(l+1),this.words[l]|=f,this;for(var g=f,_=l;g!==0&&_<this.length;_++){var b=this.words[_]|0;b+=g,g=b>>>26,b&=67108863,this.words[_]=b}return g!==0&&(this.words[_]=g,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(i){var c=i<0;if(this.negative!==0&&!c)return-1;if(this.negative===0&&c)return 1;this.strip();var l;if(this.length>1)l=1;else{c&&(i=-i),r(i<=67108863,"Number is too big");var f=this.words[0]|0;l=f===i?0:f<i?-1:1}return this.negative!==0?-l|0:l},o.prototype.cmp=function(i){if(this.negative!==0&&i.negative===0)return-1;if(this.negative===0&&i.negative!==0)return 1;var c=this.ucmp(i);return this.negative!==0?-c|0:c},o.prototype.ucmp=function(i){if(this.length>i.length)return 1;if(this.length<i.length)return-1;for(var c=0,l=this.length-1;l>=0;l--){var f=this.words[l]|0,g=i.words[l]|0;if(f!==g){f<g?c=-1:f>g&&(c=1);break}}return c},o.prototype.gtn=function(i){return this.cmpn(i)===1},o.prototype.gt=function(i){return this.cmp(i)===1},o.prototype.gten=function(i){return this.cmpn(i)>=0},o.prototype.gte=function(i){return this.cmp(i)>=0},o.prototype.ltn=function(i){return this.cmpn(i)===-1},o.prototype.lt=function(i){return this.cmp(i)===-1},o.prototype.lten=function(i){return this.cmpn(i)<=0},o.prototype.lte=function(i){return this.cmp(i)<=0},o.prototype.eqn=function(i){return this.cmpn(i)===0},o.prototype.eq=function(i){return this.cmp(i)===0},o.red=function(i){return new $(i)},o.prototype.toRed=function(i){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),i.convertTo(this)._forceRed(i)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(i){return this.red=i,this},o.prototype.forceRed=function(i){return r(!this.red,"Already a number in reduction context"),this._forceRed(i)},o.prototype.redAdd=function(i){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,i)},o.prototype.redIAdd=function(i){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,i)},o.prototype.redSub=function(i){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,i)},o.prototype.redISub=function(i){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,i)},o.prototype.redShl=function(i){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,i)},o.prototype.redMul=function(i){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,i),this.red.mul(this,i)},o.prototype.redIMul=function(i){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,i),this.red.imul(this,i)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(i){return r(this.red&&!i.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,i)};var S={k256:null,p224:null,p192:null,p25519:null};function E(p,i){this.name=p,this.p=new o(i,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}E.prototype._tmp=function(){var i=new o(null);return i.words=new Array(Math.ceil(this.n/13)),i},E.prototype.ireduce=function(i){var c=i,l;do this.split(c,this.tmp),c=this.imulK(c),c=c.iadd(this.tmp),l=c.bitLength();while(l>this.n);var f=l<this.n?-1:c.ucmp(this.p);return f===0?(c.words[0]=0,c.length=1):f>0?c.isub(this.p):c.strip(),c},E.prototype.split=function(i,c){i.iushrn(this.n,0,c)},E.prototype.imulK=function(i){return i.imul(this.k)};function C(){E.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(C,E),C.prototype.split=function(i,c){for(var l=4194303,f=Math.min(i.length,9),g=0;g<f;g++)c.words[g]=i.words[g];if(c.length=f,i.length<=9){i.words[0]=0,i.length=1;return}var _=i.words[9];for(c.words[c.length++]=_&l,g=10;g<i.length;g++){var b=i.words[g]|0;i.words[g-10]=(b&l)<<4|_>>>22,_=b}_>>>=22,i.words[g-10]=_,_===0&&i.length>10?i.length-=10:i.length-=9},C.prototype.imulK=function(i){i.words[i.length]=0,i.words[i.length+1]=0,i.length+=2;for(var c=0,l=0;l<i.length;l++){var f=i.words[l]|0;c+=f*977,i.words[l]=c&67108863,c=f*64+(c/67108864|0)}return i.words[i.length-1]===0&&(i.length--,i.words[i.length-1]===0&&i.length--),i};function L(){E.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(L,E);function O(){E.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(O,E);function D(){E.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(D,E),D.prototype.imulK=function(i){for(var c=0,l=0;l<i.length;l++){var f=(i.words[l]|0)*19+c,g=f&67108863;f>>>=26,i.words[l]=g,c=f}return c!==0&&(i.words[i.length++]=c),i},o._prime=function(i){if(S[i])return S[i];var c;if(i==="k256")c=new C;else if(i==="p224")c=new L;else if(i==="p192")c=new O;else if(i==="p25519")c=new D;else throw new Error("Unknown prime "+i);return S[i]=c,c};function $(p){if(typeof p=="string"){var i=o._prime(p);this.m=i.p,this.prime=i}else r(p.gtn(1),"modulus must be greater than 1"),this.m=p,this.prime=null}$.prototype._verify1=function(i){r(i.negative===0,"red works only with positives"),r(i.red,"red works only with red numbers")},$.prototype._verify2=function(i,c){r((i.negative|c.negative)===0,"red works only with positives"),r(i.red&&i.red===c.red,"red works only with red numbers")},$.prototype.imod=function(i){return this.prime?this.prime.ireduce(i)._forceRed(this):i.umod(this.m)._forceRed(this)},$.prototype.neg=function(i){return i.isZero()?i.clone():this.m.sub(i)._forceRed(this)},$.prototype.add=function(i,c){this._verify2(i,c);var l=i.add(c);return l.cmp(this.m)>=0&&l.isub(this.m),l._forceRed(this)},$.prototype.iadd=function(i,c){this._verify2(i,c);var l=i.iadd(c);return l.cmp(this.m)>=0&&l.isub(this.m),l},$.prototype.sub=function(i,c){this._verify2(i,c);var l=i.sub(c);return l.cmpn(0)<0&&l.iadd(this.m),l._forceRed(this)},$.prototype.isub=function(i,c){this._verify2(i,c);var l=i.isub(c);return l.cmpn(0)<0&&l.iadd(this.m),l},$.prototype.shl=function(i,c){return this._verify1(i),this.imod(i.ushln(c))},$.prototype.imul=function(i,c){return this._verify2(i,c),this.imod(i.imul(c))},$.prototype.mul=function(i,c){return this._verify2(i,c),this.imod(i.mul(c))},$.prototype.isqr=function(i){return this.imul(i,i.clone())},$.prototype.sqr=function(i){return this.mul(i,i)},$.prototype.sqrt=function(i){if(i.isZero())return i.clone();var c=this.m.andln(3);if(r(c%2===1),c===3){var l=this.m.add(new o(1)).iushrn(2);return this.pow(i,l)}for(var f=this.m.subn(1),g=0;!f.isZero()&&f.andln(1)===0;)g++,f.iushrn(1);r(!f.isZero());var _=new o(1).toRed(this),b=_.redNeg(),h=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new o(2*a*a).toRed(this);this.pow(a,h).cmp(b)!==0;)a.redIAdd(b);for(var d=this.pow(a,f),B=this.pow(i,f.addn(1).iushrn(1)),P=this.pow(i,f),q=g;P.cmp(_)!==0;){for(var F=P,H=0;F.cmp(_)!==0;H++)F=F.redSqr();r(H<q);var z=this.pow(d,new o(1).iushln(q-H-1));B=B.redMul(z),d=z.redSqr(),P=P.redMul(d),q=H}return B},$.prototype.invm=function(i){var c=i._invmp(this.m);return c.negative!==0?(c.negative=0,this.imod(c).redNeg()):this.imod(c)},$.prototype.pow=function(i,c){if(c.isZero())return new o(1).toRed(this);if(c.cmpn(1)===0)return i.clone();var l=4,f=new Array(1<<l);f[0]=new o(1).toRed(this),f[1]=i;for(var g=2;g<f.length;g++)f[g]=this.mul(f[g-1],i);var _=f[0],b=0,h=0,a=c.bitLength()%26;for(a===0&&(a=26),g=c.length-1;g>=0;g--){for(var d=c.words[g],B=a-1;B>=0;B--){var P=d>>B&1;if(_!==f[0]&&(_=this.sqr(_)),P===0&&b===0){h=0;continue}b<<=1,b|=P,h++,!(h!==l&&(g!==0||B!==0))&&(_=this.mul(_,f[b]),h=0,b=0)}a=26}return _},$.prototype.convertTo=function(i){var c=i.umod(this.m);return c===i?c.clone():c},$.prototype.convertFrom=function(i){var c=i.clone();return c.red=null,c},o.mont=function(i){return new V(i)};function V(p){$.call(this,p),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(V,$),V.prototype.convertTo=function(i){return this.imod(i.ushln(this.shift))},V.prototype.convertFrom=function(i){var c=this.imod(i.mul(this.rinv));return c.red=null,c},V.prototype.imul=function(i,c){if(i.isZero()||c.isZero())return i.words[0]=0,i.length=1,i;var l=i.imul(c),f=l.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=l.isub(f).iushrn(this.shift),_=g;return g.cmp(this.m)>=0?_=g.isub(this.m):g.cmpn(0)<0&&(_=g.iadd(this.m)),_._forceRed(this)},V.prototype.mul=function(i,c){if(i.isZero()||c.isZero())return new o(0)._forceRed(this);var l=i.mul(c),f=l.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=l.isub(f).iushrn(this.shift),_=g;return g.cmp(this.m)>=0?_=g.isub(this.m):g.cmpn(0)<0&&(_=g.iadd(this.m)),_._forceRed(this)},V.prototype.invm=function(i){var c=this.imod(i._invmp(this.m).mul(this.r2));return c._forceRed(this)}})(t,Jo)})(Bn);var Ka=Bn.exports;const Va=Rn(Ka);var Qa=Ln;Ln.strict=Ci;Ln.loose=ki;var Ya=Object.prototype.toString,Ga={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0};function Ln(t){return Ci(t)||ki(t)}function Ci(t){return t instanceof Int8Array||t instanceof Int16Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Uint16Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array}function ki(t){return Ga[Ya.call(t)]}var Za=Qa.strict,Xa=function(e){if(Za(e)){var n=Buffer.from(e.buffer);return e.byteLength!==e.buffer.byteLength&&(n=n.slice(e.byteOffset,e.byteOffset+e.byteLength)),n}else return Buffer.from(e)};const es=Rn(Xa),Ri="hex",Ii="utf8",At="0";function Ye(t){return new Uint8Array(t)}function Ti(t,e=!1){const n=t.toString(Ri);return e?it(n):n}function ts(t){return t.toString(Ii)}function Nt(t){return es(t)}function Ve(t,e=!1){return Ti(Nt(t),e)}function ns(t){return ts(Nt(t))}function rs(t){return Buffer.from(De(t),Ri)}function Qe(t){return Ye(rs(t))}function Pn(t){return Buffer.from(t,Ii)}function is(t){return Ye(Pn(t))}function os(t,e=!1){return Ti(Pn(t),e)}function as(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/))}function Ai(...t){let e=[];return t.forEach(n=>e=e.concat(Array.from(n))),new Uint8Array([...e])}function ss(t,e=8){const n=t%e;return n?(t-n)/e*e+e:t}function cs(t,e=8,n=At){return ls(t,ss(t.length,e),n)}function ls(t,e,n=At){return us(t,e,!0,n)}function De(t){return t.replace(/^0x/,"")}function it(t){return t.startsWith("0x")?t:`0x${t}`}function Ni(t){return t=De(t),t=cs(t,2),t&&(t=it(t)),t}function fs(t){const e=t.startsWith("0x");return t=De(t),t=t.startsWith(At)?t.substring(1):t,e?it(t):t}function us(t,e,n,r=At){const s=e-t.length;let o=t;return s>0&&(o=r.repeat(s)+t),o}function mn(t){return Nt(new Uint8Array(t))}function hs(t,e){return Ve(new Uint8Array(t),!1)}function ds(t){return Ye(t).buffer}function gs(t){return Pn(t)}function ps(t,e){return os(t,!0)}function ms(t){return Qe(t).buffer}function Oi(t,e){const n=De(Ni(new Va(t).toString(16)));return e?n:it(n)}function _t(t){return Ni(t)}function _s(t){return fs(it(t))}const vs=Yo;function on(){return((e,n)=>{for(n=e="";e++<36;n+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return n})()}function ws(t,e){let n;const r=Ja[t];return r&&(n=`https://${r}.infura.io/v3/${e}`),n}function ys(t,e){let n;const r=ws(t,e.infuraId);return e.custom&&e.custom[t]?n=e.custom[t]:r&&(n=r),n}function bs(t){return t===""||typeof t=="string"&&t.trim()===""}function Ms(t){return!(t&&t.length)}function Bi(t,e){return as(t)}function xs(t){return typeof t.method<"u"}function at(t){return typeof t.result<"u"}function Mt(t){return typeof t.error<"u"}function Er(t){return typeof t.event<"u"}function Es(t){return ja.includes(t)||t.startsWith("wc_")}function Ss(t){return t.method.startsWith("wc_")?!0:!On.includes(t.method)}function Cs(t){t=De(t.toLowerCase());const e=De(Ko.keccak_256(gs(t)));let n="";for(let r=0;r<t.length;r++)parseInt(e[r],16)>7?n+=t[r].toUpperCase():n+=t[r];return it(n)}const ks=t=>t?t.toLowerCase().substring(0,2)!=="0x"?!1:/^(0x)?[0-9a-f]{40}$/i.test(t)?/^(0x)?[0-9a-f]{40}$/.test(t)||/^(0x)?[0-9A-F]{40}$/.test(t)?!0:t===Cs(t):!1:!1;function Sr(t){return!Ms(t)&&!Bi(t[0])&&(t[0]=ps(t[0])),t}function an(t){if(typeof t.type<"u"&&t.type!=="0")return t;if(typeof t.from>"u"||!ks(t.from))throw new Error("Transaction object must include a valid 'from' value.");function e(s){let o=s;return(typeof s=="number"||typeof s=="string"&&!bs(s))&&(Bi(s)?typeof s=="string"&&(o=_t(s)):o=Oi(s)),typeof o=="string"&&(o=_s(o)),o}const n={from:_t(t.from),to:typeof t.to>"u"?void 0:_t(t.to),gasPrice:typeof t.gasPrice>"u"?"":e(t.gasPrice),gas:typeof t.gas>"u"?typeof t.gasLimit>"u"?"":e(t.gasLimit):e(t.gas),value:typeof t.value>"u"?"":e(t.value),nonce:typeof t.nonce>"u"?"":e(t.nonce),data:typeof t.data>"u"?"":_t(t.data)||"0x"},r=["gasPrice","gas","value","nonce"];return Object.keys(n).forEach(s=>{(typeof n[s]>"u"||typeof n[s]=="string"&&!n[s].trim().length)&&r.includes(s)&&delete n[s]}),n}function Rs(t){const e=t.message||"Failed or Rejected Request";let n=-32e3;if(t&&!t.code)switch(e){case"Parse error":n=-32700;break;case"Invalid request":n=-32600;break;case"Method not found":n=-32601;break;case"Invalid params":n=-32602;break;case"Internal error":n=-32603;break;default:n=-32e3;break}const r={code:n,message:e};return t.data&&(r.data=t.data),r}var qn={};(function(t){const e=Zo,n=Xo,r=Go,s=w=>w==null;function o(w){switch(w.arrayFormat){case"index":return M=>(S,E)=>{const C=S.length;return E===void 0||w.skipNull&&E===null||w.skipEmptyString&&E===""?S:E===null?[...S,[v(M,w),"[",C,"]"].join("")]:[...S,[v(M,w),"[",v(C,w),"]=",v(E,w)].join("")]};case"bracket":return M=>(S,E)=>E===void 0||w.skipNull&&E===null||w.skipEmptyString&&E===""?S:E===null?[...S,[v(M,w),"[]"].join("")]:[...S,[v(M,w),"[]=",v(E,w)].join("")];case"comma":case"separator":return M=>(S,E)=>E==null||E.length===0?S:S.length===0?[[v(M,w),"=",v(E,w)].join("")]:[[S,v(E,w)].join(w.arrayFormatSeparator)];default:return M=>(S,E)=>E===void 0||w.skipNull&&E===null||w.skipEmptyString&&E===""?S:E===null?[...S,v(M,w)]:[...S,[v(M,w),"=",v(E,w)].join("")]}}function u(w){let M;switch(w.arrayFormat){case"index":return(S,E,C)=>{if(M=/\[(\d*)\]$/.exec(S),S=S.replace(/\[\d*\]$/,""),!M){C[S]=E;return}C[S]===void 0&&(C[S]={}),C[S][M[1]]=E};case"bracket":return(S,E,C)=>{if(M=/(\[\])$/.exec(S),S=S.replace(/\[\]$/,""),!M){C[S]=E;return}if(C[S]===void 0){C[S]=[E];return}C[S]=[].concat(C[S],E)};case"comma":case"separator":return(S,E,C)=>{const O=typeof E=="string"&&E.split("").indexOf(w.arrayFormatSeparator)>-1?E.split(w.arrayFormatSeparator).map(D=>x(D,w)):E===null?E:x(E,w);C[S]=O};default:return(S,E,C)=>{if(C[S]===void 0){C[S]=E;return}C[S]=[].concat(C[S],E)}}}function m(w){if(typeof w!="string"||w.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function v(w,M){return M.encode?M.strict?e(w):encodeURIComponent(w):w}function x(w,M){return M.decode?n(w):w}function y(w){return Array.isArray(w)?w.sort():typeof w=="object"?y(Object.keys(w)).sort((M,S)=>Number(M)-Number(S)).map(M=>w[M]):w}function k(w){const M=w.indexOf("#");return M!==-1&&(w=w.slice(0,M)),w}function I(w){let M="";const S=w.indexOf("#");return S!==-1&&(M=w.slice(S)),M}function T(w){w=k(w);const M=w.indexOf("?");return M===-1?"":w.slice(M+1)}function R(w,M){return M.parseNumbers&&!Number.isNaN(Number(w))&&typeof w=="string"&&w.trim()!==""?w=Number(w):M.parseBooleans&&w!==null&&(w.toLowerCase()==="true"||w.toLowerCase()==="false")&&(w=w.toLowerCase()==="true"),w}function N(w,M){M=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},M),m(M.arrayFormatSeparator);const S=u(M),E=Object.create(null);if(typeof w!="string"||(w=w.trim().replace(/^[?#&]/,""),!w))return E;for(const C of w.split("&")){let[L,O]=r(M.decode?C.replace(/\+/g," "):C,"=");O=O===void 0?null:["comma","separator"].includes(M.arrayFormat)?O:x(O,M),S(x(L,M),O,E)}for(const C of Object.keys(E)){const L=E[C];if(typeof L=="object"&&L!==null)for(const O of Object.keys(L))L[O]=R(L[O],M);else E[C]=R(L,M)}return M.sort===!1?E:(M.sort===!0?Object.keys(E).sort():Object.keys(E).sort(M.sort)).reduce((C,L)=>{const O=E[L];return O&&typeof O=="object"&&!Array.isArray(O)?C[L]=y(O):C[L]=O,C},Object.create(null))}t.extract=T,t.parse=N,t.stringify=(w,M)=>{if(!w)return"";M=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},M),m(M.arrayFormatSeparator);const S=O=>M.skipNull&&s(w[O])||M.skipEmptyString&&w[O]==="",E=o(M),C={};for(const O of Object.keys(w))S(O)||(C[O]=w[O]);const L=Object.keys(C);return M.sort!==!1&&L.sort(M.sort),L.map(O=>{const D=w[O];return D===void 0?"":D===null?v(O,M):Array.isArray(D)?D.reduce(E(O),[]).join("&"):v(O,M)+"="+v(D,M)}).filter(O=>O.length>0).join("&")},t.parseUrl=(w,M)=>{M=Object.assign({decode:!0},M);const[S,E]=r(w,"#");return Object.assign({url:S.split("?")[0]||"",query:N(T(w),M)},M&&M.parseFragmentIdentifier&&E?{fragmentIdentifier:x(E,M)}:{})},t.stringifyUrl=(w,M)=>{M=Object.assign({encode:!0,strict:!0},M);const S=k(w.url).split("?")[0]||"",E=t.extract(w.url),C=t.parse(E,{sort:!1}),L=Object.assign(C,w.query);let O=t.stringify(L,M);O&&(O=`?${O}`);let D=I(w.url);return w.fragmentIdentifier&&(D=`#${v(w.fragmentIdentifier,M)}`),`${S}${O}${D}`}})(qn);function Is(t){const e=t.indexOf("?")!==-1?t.indexOf("?"):void 0;return typeof e<"u"?t.substr(e):""}function Ts(t,e){let n=Li(t);return n=Object.assign(Object.assign({},n),e),t=As(n),t}function Li(t){return qn.parse(t)}function As(t){return qn.stringify(t)}function Ns(t){return typeof t.bridge<"u"}function Os(t){const e=t.indexOf(":"),n=t.indexOf("?")!==-1?t.indexOf("?"):void 0,r=t.substring(0,e),s=t.substring(e+1,n);function o(k){const T=k.split("@");return{handshakeTopic:T[0],version:parseInt(T[1],10)}}const u=o(s),m=typeof n<"u"?t.substr(n):"";function v(k){const I=Li(k);return{key:I.key||"",bridge:I.bridge||""}}const x=v(m);return Object.assign(Object.assign({protocol:r},u),x)}class Bs{constructor(){this._eventEmitters=[],typeof window<"u"&&typeof window.addEventListener<"u"&&(window.addEventListener("online",()=>this.trigger("online")),window.addEventListener("offline",()=>this.trigger("offline")))}on(e,n){this._eventEmitters.push({event:e,callback:n})}trigger(e){let n=[];e&&(n=this._eventEmitters.filter(r=>r.event===e)),n.forEach(r=>{r.callback()})}}const Ls=typeof globalThis.WebSocket<"u"?globalThis.WebSocket:require("ws");class Ps{constructor(e){if(this.opts=e,this._queue=[],this._events=[],this._subscriptions=[],this._protocol=e.protocol,this._version=e.version,this._url="",this._netMonitor=null,this._socket=null,this._nextSocket=null,this._subscriptions=e.subscriptions||[],this._netMonitor=e.netMonitor||new Bs,!e.url||typeof e.url!="string")throw new Error("Missing or invalid WebSocket url");this._url=e.url,this._netMonitor.on("online",()=>this._socketCreate())}set readyState(e){}get readyState(){return this._socket?this._socket.readyState:-1}set connecting(e){}get connecting(){return this.readyState===0}set connected(e){}get connected(){return this.readyState===1}set closing(e){}get closing(){return this.readyState===2}set closed(e){}get closed(){return this.readyState===3}open(){this._socketCreate()}close(){this._socketClose()}send(e,n,r){if(!n||typeof n!="string")throw new Error("Missing or invalid topic field");this._socketSend({topic:n,type:"pub",payload:e,silent:!!r})}subscribe(e){this._socketSend({topic:e,type:"sub",payload:"",silent:!0})}on(e,n){this._events.push({event:e,callback:n})}_socketCreate(){if(this._nextSocket)return;const e=qs(this._url,this._protocol,this._version);if(this._nextSocket=new Ls(e),!this._nextSocket)throw new Error("Failed to create socket");this._nextSocket.onmessage=n=>this._socketReceive(n),this._nextSocket.onopen=()=>this._socketOpen(),this._nextSocket.onerror=n=>this._socketError(n),this._nextSocket.onclose=()=>{setTimeout(()=>{this._nextSocket=null,this._socketCreate()},1e3)}}_socketOpen(){this._socketClose(),this._socket=this._nextSocket,this._nextSocket=null,this._queueSubscriptions(),this._pushQueue()}_socketClose(){this._socket&&(this._socket.onclose=()=>{},this._socket.close())}_socketSend(e){const n=JSON.stringify(e);this._socket&&this._socket.readyState===1?this._socket.send(n):(this._setToQueue(e),this._socketCreate())}async _socketReceive(e){let n;try{n=JSON.parse(e.data)}catch{return}if(this._socketSend({topic:n.topic,type:"ack",payload:"",silent:!0}),this._socket&&this._socket.readyState===1){const r=this._events.filter(s=>s.event==="message");r&&r.length&&r.forEach(s=>s.callback(n))}}_socketError(e){const n=this._events.filter(r=>r.event==="error");n&&n.length&&n.forEach(r=>r.callback(e))}_queueSubscriptions(){this._subscriptions.forEach(n=>this._queue.push({topic:n,type:"sub",payload:"",silent:!0})),this._subscriptions=this.opts.subscriptions||[]}_setToQueue(e){this._queue.push(e)}_pushQueue(){this._queue.forEach(n=>this._socketSend(n)),this._queue=[]}}function qs(t,e,n){var r,s;const u=(t.startsWith("https")?t.replace("https","wss"):t.startsWith("http")?t.replace("http","ws"):t).split("?"),m=vi()?{protocol:e,version:n,env:"browser",host:((r=yi())===null||r===void 0?void 0:r.host)||""}:{protocol:e,version:n,env:((s=Rt())===null||s===void 0?void 0:s.name)||""},v=Ts(Is(u[1]||""),m);return u[0]+"?"+v}const sn="Session currently connected",ze="Session currently disconnected",Us="Session Rejected",$s="Missing JSON RPC response",Ds='JSON-RPC success response must include "result" field',Fs='JSON-RPC error response must include "error" field',Ws='JSON RPC request must have valid "method" value',Hs='JSON RPC request must have valid "id" value',zs="Missing one of the required parameters: bridge / uri / session",Cr="JSON RPC response format is invalid",js="URI format is invalid",Js="QRCode Modal not provided",kr="User close QRCode Modal";class Ks{constructor(){this._eventEmitters=[]}subscribe(e){this._eventEmitters.push(e)}unsubscribe(e){this._eventEmitters=this._eventEmitters.filter(n=>n.event!==e)}trigger(e){let n=[],r;xs(e)?r=e.method:at(e)||Mt(e)?r=`response:${e.id}`:Er(e)?r=e.event:r="",r&&(n=this._eventEmitters.filter(s=>s.event===r)),(!n||!n.length)&&!Es(r)&&!Er(r)&&(n=this._eventEmitters.filter(s=>s.event==="call_request")),n.forEach(s=>{if(Mt(e)){const o=new Error(e.error.message);s.callback(o,null)}else s.callback(null,e)})}}class Vs{constructor(e="walletconnect"){this.storageId=e}getSession(){let e=null;const n=An(this.storageId);return n&&Ns(n)&&(e=n),e}setSession(e){return Tn(this.storageId,e),e}removeSession(){Nn(this.storageId)}}const Qs="walletconnect.org",Ys="abcdefghijklmnopqrstuvwxyz0123456789",Pi=Ys.split("").map(t=>`https://${t}.bridge.walletconnect.org`);function Gs(t){let e=t.indexOf("//")>-1?t.split("/")[2]:t.split("/")[0];return e=e.split(":")[0],e=e.split("?")[0],e}function Zs(t){return Gs(t).split(".").slice(-2).join(".")}function Xs(){return Math.floor(Math.random()*Pi.length)}function ec(){return Pi[Xs()]}function tc(t){return Zs(t)===Qs}function nc(t){return tc(t)?ec():t}class rc{constructor(e){if(this.protocol="wc",this.version=1,this._bridge="",this._key=null,this._clientId="",this._clientMeta=null,this._peerId="",this._peerMeta=null,this._handshakeId=0,this._handshakeTopic="",this._connected=!1,this._accounts=[],this._chainId=0,this._networkId=0,this._rpcUrl="",this._eventManager=new Ks,this._clientMeta=pn()||e.connectorOpts.clientMeta||null,this._cryptoLib=e.cryptoLib,this._sessionStorage=e.sessionStorage||new Vs(e.connectorOpts.storageId),this._qrcodeModal=e.connectorOpts.qrcodeModal,this._qrcodeModalOptions=e.connectorOpts.qrcodeModalOptions,this._signingMethods=[...On,...e.connectorOpts.signingMethods||[]],!e.connectorOpts.bridge&&!e.connectorOpts.uri&&!e.connectorOpts.session)throw new Error(zs);e.connectorOpts.bridge&&(this.bridge=nc(e.connectorOpts.bridge)),e.connectorOpts.uri&&(this.uri=e.connectorOpts.uri);const n=e.connectorOpts.session||this._getStorageSession();n&&(this.session=n),this.handshakeId&&this._subscribeToSessionResponse(this.handshakeId,"Session request rejected"),this._transport=e.transport||new Ps({protocol:this.protocol,version:this.version,url:this.bridge,subscriptions:[this.clientId]}),this._subscribeToInternalEvents(),this._initTransport(),e.connectorOpts.uri&&this._subscribeToSessionRequest(),e.pushServerOpts&&this._registerPushServer(e.pushServerOpts)}set bridge(e){e&&(this._bridge=e)}get bridge(){return this._bridge}set key(e){if(!e)return;const n=ms(e);this._key=n}get key(){return this._key?hs(this._key):""}set clientId(e){e&&(this._clientId=e)}get clientId(){let e=this._clientId;return e||(e=this._clientId=on()),this._clientId}set peerId(e){e&&(this._peerId=e)}get peerId(){return this._peerId}set clientMeta(e){}get clientMeta(){let e=this._clientMeta;return e||(e=this._clientMeta=pn()),e}set peerMeta(e){this._peerMeta=e}get peerMeta(){return this._peerMeta}set handshakeTopic(e){e&&(this._handshakeTopic=e)}get handshakeTopic(){return this._handshakeTopic}set handshakeId(e){e&&(this._handshakeId=e)}get handshakeId(){return this._handshakeId}get uri(){return this._formatUri()}set uri(e){if(!e)return;const{handshakeTopic:n,bridge:r,key:s}=this._parseUri(e);this.handshakeTopic=n,this.bridge=r,this.key=s}set chainId(e){this._chainId=e}get chainId(){return this._chainId}set networkId(e){this._networkId=e}get networkId(){return this._networkId}set accounts(e){this._accounts=e}get accounts(){return this._accounts}set rpcUrl(e){this._rpcUrl=e}get rpcUrl(){return this._rpcUrl}set connected(e){}get connected(){return this._connected}set pending(e){}get pending(){return!!this._handshakeTopic}get session(){return{connected:this.connected,accounts:this.accounts,chainId:this.chainId,bridge:this.bridge,key:this.key,clientId:this.clientId,clientMeta:this.clientMeta,peerId:this.peerId,peerMeta:this.peerMeta,handshakeId:this.handshakeId,handshakeTopic:this.handshakeTopic}}set session(e){e&&(this._connected=e.connected,this.accounts=e.accounts,this.chainId=e.chainId,this.bridge=e.bridge,this.key=e.key,this.clientId=e.clientId,this.clientMeta=e.clientMeta,this.peerId=e.peerId,this.peerMeta=e.peerMeta,this.handshakeId=e.handshakeId,this.handshakeTopic=e.handshakeTopic)}on(e,n){const r={event:e,callback:n};this._eventManager.subscribe(r)}off(e){this._eventManager.unsubscribe(e)}async createInstantRequest(e){this._key=await this._generateKey();const n=this._formatRequest({method:"wc_instantRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,request:this._formatRequest(e)}]});this.handshakeId=n.id,this.handshakeTopic=on(),this._eventManager.trigger({event:"display_uri",params:[this.uri]}),this.on("modal_closed",()=>{throw new Error(kr)});const r=()=>{this.killSession()};try{const s=await this._sendCallRequest(n);return s&&r(),s}catch(s){throw r(),s}}async connect(e){if(!this._qrcodeModal)throw new Error(Js);return this.connected?{chainId:this.chainId,accounts:this.accounts}:(await this.createSession(e),new Promise(async(n,r)=>{this.on("modal_closed",()=>r(new Error(kr))),this.on("connect",(s,o)=>{if(s)return r(s);n(o.params[0])})}))}async createSession(e){if(this._connected)throw new Error(sn);if(this.pending)return;this._key=await this._generateKey();const n=this._formatRequest({method:"wc_sessionRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,chainId:e&&e.chainId?e.chainId:null}]});this.handshakeId=n.id,this.handshakeTopic=on(),this._sendSessionRequest(n,"Session update rejected",{topic:this.handshakeTopic}),this._eventManager.trigger({event:"display_uri",params:[this.uri]})}approveSession(e){if(this._connected)throw new Error(sn);this.chainId=e.chainId,this.accounts=e.accounts,this.networkId=e.networkId||0,this.rpcUrl=e.rpcUrl||"";const n={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl,peerId:this.clientId,peerMeta:this.clientMeta},r={id:this.handshakeId,jsonrpc:"2.0",result:n};this._sendResponse(r),this._connected=!0,this._setStorageSession(),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})}rejectSession(e){if(this._connected)throw new Error(sn);const n=e&&e.message?e.message:Us,r=this._formatResponse({id:this.handshakeId,error:{message:n}});this._sendResponse(r),this._connected=!1,this._eventManager.trigger({event:"disconnect",params:[{message:n}]}),this._removeStorageSession()}updateSession(e){if(!this._connected)throw new Error(ze);this.chainId=e.chainId,this.accounts=e.accounts,this.networkId=e.networkId||0,this.rpcUrl=e.rpcUrl||"";const n={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl},r=this._formatRequest({method:"wc_sessionUpdate",params:[n]});this._sendSessionRequest(r,"Session update rejected"),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]}),this._manageStorageSession()}async killSession(e){const n=e?e.message:"Session Disconnected",r={approved:!1,chainId:null,networkId:null,accounts:null},s=this._formatRequest({method:"wc_sessionUpdate",params:[r]});await this._sendRequest(s),this._handleSessionDisconnect(n)}async sendTransaction(e){if(!this._connected)throw new Error(ze);const n=an(e),r=this._formatRequest({method:"eth_sendTransaction",params:[n]});return await this._sendCallRequest(r)}async signTransaction(e){if(!this._connected)throw new Error(ze);const n=an(e),r=this._formatRequest({method:"eth_signTransaction",params:[n]});return await this._sendCallRequest(r)}async signMessage(e){if(!this._connected)throw new Error(ze);const n=this._formatRequest({method:"eth_sign",params:e});return await this._sendCallRequest(n)}async signPersonalMessage(e){if(!this._connected)throw new Error(ze);e=Sr(e);const n=this._formatRequest({method:"personal_sign",params:e});return await this._sendCallRequest(n)}async signTypedData(e){if(!this._connected)throw new Error(ze);const n=this._formatRequest({method:"eth_signTypedData",params:e});return await this._sendCallRequest(n)}async updateChain(e){if(!this._connected)throw new Error("Session currently disconnected");const n=this._formatRequest({method:"wallet_updateChain",params:[e]});return await this._sendCallRequest(n)}unsafeSend(e,n){return this._sendRequest(e,n),this._eventManager.trigger({event:"call_request_sent",params:[{request:e,options:n}]}),new Promise((r,s)=>{this._subscribeToResponse(e.id,(o,u)=>{if(o){s(o);return}if(!u)throw new Error($s);r(u)})})}async sendCustomRequest(e,n){if(!this._connected)throw new Error(ze);switch(e.method){case"eth_accounts":return this.accounts;case"eth_chainId":return Oi(this.chainId);case"eth_sendTransaction":case"eth_signTransaction":e.params&&(e.params[0]=an(e.params[0]));break;case"personal_sign":e.params&&(e.params=Sr(e.params));break}const r=this._formatRequest(e);return await this._sendCallRequest(r,n)}approveRequest(e){if(at(e)){const n=this._formatResponse(e);this._sendResponse(n)}else throw new Error(Ds)}rejectRequest(e){if(Mt(e)){const n=this._formatResponse(e);this._sendResponse(n)}else throw new Error(Fs)}transportClose(){this._transport.close()}async _sendRequest(e,n){const r=this._formatRequest(e),s=await this._encrypt(r),o=typeof(n==null?void 0:n.topic)<"u"?n.topic:this.peerId,u=JSON.stringify(s),m=typeof(n==null?void 0:n.forcePushNotification)<"u"?!n.forcePushNotification:Ss(r);this._transport.send(u,o,m)}async _sendResponse(e){const n=await this._encrypt(e),r=this.peerId,s=JSON.stringify(n);this._transport.send(s,r,!0)}async _sendSessionRequest(e,n,r){this._sendRequest(e,r),this._subscribeToSessionResponse(e.id,n)}_sendCallRequest(e,n){return this._sendRequest(e,n),this._eventManager.trigger({event:"call_request_sent",params:[{request:e,options:n}]}),this._subscribeToCallResponse(e.id)}_formatRequest(e){if(typeof e.method>"u")throw new Error(Ws);return{id:typeof e.id>"u"?vs():e.id,jsonrpc:"2.0",method:e.method,params:typeof e.params>"u"?[]:e.params}}_formatResponse(e){if(typeof e.id>"u")throw new Error(Hs);const n={id:e.id,jsonrpc:"2.0"};if(Mt(e)){const r=Rs(e.error);return Object.assign(Object.assign(Object.assign({},n),e),{error:r})}else if(at(e))return Object.assign(Object.assign({},n),e);throw new Error(Cr)}_handleSessionDisconnect(e){const n=e||"Session Disconnected";this._connected||(this._qrcodeModal&&this._qrcodeModal.close(),Nn(bt)),this._connected&&(this._connected=!1),this._handshakeId&&(this._handshakeId=0),this._handshakeTopic&&(this._handshakeTopic=""),this._peerId&&(this._peerId=""),this._eventManager.trigger({event:"disconnect",params:[{message:n}]}),this._removeStorageSession(),this.transportClose()}_handleSessionResponse(e,n){n?n.approved?(this._connected?(n.chainId&&(this.chainId=n.chainId),n.accounts&&(this.accounts=n.accounts),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]})):(this._connected=!0,n.chainId&&(this.chainId=n.chainId),n.accounts&&(this.accounts=n.accounts),n.peerId&&!this.peerId&&(this.peerId=n.peerId),n.peerMeta&&!this.peerMeta&&(this.peerMeta=n.peerMeta),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})),this._manageStorageSession()):this._handleSessionDisconnect(e):this._handleSessionDisconnect(e)}async _handleIncomingMessages(e){if(![this.clientId,this.handshakeTopic].includes(e.topic))return;let r;try{r=JSON.parse(e.payload)}catch{return}const s=await this._decrypt(r);s&&this._eventManager.trigger(s)}_subscribeToSessionRequest(){this._transport.subscribe(this.handshakeTopic)}_subscribeToResponse(e,n){this.on(`response:${e}`,n)}_subscribeToSessionResponse(e,n){this._subscribeToResponse(e,(r,s)=>{if(r){this._handleSessionResponse(r.message);return}at(s)?this._handleSessionResponse(n,s.result):s.error&&s.error.message?this._handleSessionResponse(s.error.message):this._handleSessionResponse(n)})}_subscribeToCallResponse(e){return new Promise((n,r)=>{this._subscribeToResponse(e,(s,o)=>{if(s){r(s);return}at(o)?n(o.result):o.error&&o.error.message?r(o.error):r(new Error(Cr))})})}_subscribeToInternalEvents(){this.on("display_uri",()=>{this._qrcodeModal&&this._qrcodeModal.open(this.uri,()=>{this._eventManager.trigger({event:"modal_closed",params:[]})},this._qrcodeModalOptions)}),this.on("connect",()=>{this._qrcodeModal&&this._qrcodeModal.close()}),this.on("call_request_sent",(e,n)=>{const{request:r}=n.params[0];if(mi()&&this._signingMethods.includes(r.method)){const s=An(bt);s&&(window.location.href=s.href)}}),this.on("wc_sessionRequest",(e,n)=>{e&&this._eventManager.trigger({event:"error",params:[{code:"SESSION_REQUEST_ERROR",message:e.toString()}]}),this.handshakeId=n.id,this.peerId=n.params[0].peerId,this.peerMeta=n.params[0].peerMeta;const r=Object.assign(Object.assign({},n),{method:"session_request"});this._eventManager.trigger(r)}),this.on("wc_sessionUpdate",(e,n)=>{e&&this._handleSessionResponse(e.message),this._handleSessionResponse("Session disconnected",n.params[0])})}_initTransport(){this._transport.on("message",e=>this._handleIncomingMessages(e)),this._transport.on("open",()=>this._eventManager.trigger({event:"transport_open",params:[]})),this._transport.on("close",()=>this._eventManager.trigger({event:"transport_close",params:[]})),this._transport.on("error",()=>this._eventManager.trigger({event:"transport_error",params:["Websocket connection failed"]})),this._transport.open()}_formatUri(){const e=this.protocol,n=this.handshakeTopic,r=this.version,s=encodeURIComponent(this.bridge),o=this.key;return`${e}:${n}@${r}?bridge=${s}&key=${o}`}_parseUri(e){const n=Os(e);if(n.protocol===this.protocol){if(!n.handshakeTopic)throw Error("Invalid or missing handshakeTopic parameter value");const r=n.handshakeTopic;if(!n.bridge)throw Error("Invalid or missing bridge url parameter value");const s=decodeURIComponent(n.bridge);if(!n.key)throw Error("Invalid or missing key parameter value");const o=n.key;return{handshakeTopic:r,bridge:s,key:o}}else throw new Error(js)}async _generateKey(){return this._cryptoLib?await this._cryptoLib.generateKey():null}async _encrypt(e){const n=this._key;return this._cryptoLib&&n?await this._cryptoLib.encrypt(e,n):null}async _decrypt(e){const n=this._key;return this._cryptoLib&&n?await this._cryptoLib.decrypt(e,n):null}_getStorageSession(){let e=null;return this._sessionStorage&&(e=this._sessionStorage.getSession()),e}_setStorageSession(){this._sessionStorage&&this._sessionStorage.setSession(this.session)}_removeStorageSession(){this._sessionStorage&&this._sessionStorage.removeSession()}_manageStorageSession(){this._connected?this._setStorageSession():this._removeStorageSession()}_registerPushServer(e){if(!e.url||typeof e.url!="string")throw Error("Invalid or missing pushServerOpts.url parameter value");if(!e.type||typeof e.type!="string")throw Error("Invalid or missing pushServerOpts.type parameter value");if(!e.token||typeof e.token!="string")throw Error("Invalid or missing pushServerOpts.token parameter value");const n={bridge:this.bridge,topic:this.clientId,type:e.type,token:e.token,peerName:"",language:e.language||""};this.on("connect",async(r,s)=>{if(r)throw r;if(e.peerMeta){const o=s.params[0].peerMeta.name;n.peerName=o}try{if(!(await(await fetch(`${e.url}/new`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)})).json()).success)throw Error("Failed to register in Push Server")}catch{throw Error("Failed to register in Push Server")}})}}function ic(t){return dt.getBrowerCrypto().getRandomValues(new Uint8Array(t))}const qi=256,Ui=qi,oc=qi,Fe="AES-CBC",ac=`SHA-${Ui}`,_n="HMAC",sc="encrypt",cc="decrypt",lc="sign",fc="verify";function uc(t){return t===Fe?{length:Ui,name:Fe}:{hash:{name:ac},name:_n}}function hc(t){return t===Fe?[sc,cc]:[lc,fc]}async function Un(t,e=Fe){return dt.getSubtleCrypto().importKey("raw",t,uc(e),!0,hc(e))}async function dc(t,e,n){const r=dt.getSubtleCrypto(),s=await Un(e,Fe),o=await r.encrypt({iv:t,name:Fe},s,n);return new Uint8Array(o)}async function gc(t,e,n){const r=dt.getSubtleCrypto(),s=await Un(e,Fe),o=await r.decrypt({iv:t,name:Fe},s,n);return new Uint8Array(o)}async function pc(t,e){const n=dt.getSubtleCrypto(),r=await Un(t,_n),s=await n.sign({length:oc,name:_n},r,e);return new Uint8Array(s)}function mc(t,e,n){return dc(t,e,n)}function _c(t,e,n){return gc(t,e,n)}async function $i(t,e){return await pc(t,e)}async function Di(t){const e=(t||256)/8,n=ic(e);return ds(Nt(n))}async function Fi(t,e){const n=Qe(t.data),r=Qe(t.iv),s=Qe(t.hmac),o=Ve(s,!1),u=Ai(n,r),m=await $i(e,u),v=Ve(m,!1);return De(o)===De(v)}async function vc(t,e,n){const r=Ye(mn(e)),s=n||await Di(128),o=Ye(mn(s)),u=Ve(o,!1),m=JSON.stringify(t),v=is(m),x=await mc(o,r,v),y=Ve(x,!1),k=Ai(x,o),I=await $i(r,k),T=Ve(I,!1);return{data:y,hmac:T,iv:u}}async function wc(t,e){const n=Ye(mn(e));if(!n)throw new Error("Missing key: required for decryption");if(!await Fi(t,n))return null;const s=Qe(t.data),o=Qe(t.iv),u=await _c(o,n,s),m=ns(u);let v;try{v=JSON.parse(m)}catch{return null}return v}const yc=Object.freeze(Object.defineProperty({__proto__:null,decrypt:wc,encrypt:vc,generateKey:Di,verifyHmac:Fi},Symbol.toStringTag,{value:"Module"}));class bc extends rc{constructor(e,n){super({cryptoLib:yc,connectorOpts:e,pushServerOpts:n})}}const Mc=Xr(za);var gt={},xc=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},Wi={},We={},Ec={}.toString,$n=Array.isArray||function(t){return Ec.call(t)=="[object Array]"},Sc=$n;function Cc(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},t.foo()===42}catch{return!1}}W.TYPED_ARRAY_SUPPORT=Cc();var Rr=W.TYPED_ARRAY_SUPPORT?2147483647:1073741823;function W(t,e,n){return!W.TYPED_ARRAY_SUPPORT&&!(this instanceof W)?new W(t,e,n):typeof t=="number"?Hi(this,t):Oc(this,t,e,n)}W.TYPED_ARRAY_SUPPORT&&(W.prototype.__proto__=Uint8Array.prototype,W.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&W[Symbol.species]===W&&Object.defineProperty(W,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}));function Dn(t){if(t>=Rr)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Rr.toString(16)+" bytes");return t|0}function kc(t){return t!==t}function Ge(t,e){var n;return W.TYPED_ARRAY_SUPPORT?(n=new Uint8Array(e),n.__proto__=W.prototype):(n=t,n===null&&(n=new W(e)),n.length=e),n}function Hi(t,e){var n=Ge(t,e<0?0:Dn(e)|0);if(!W.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)n[r]=0;return n}function Rc(t,e){var n=ji(e)|0,r=Ge(t,n),s=r.write(e);return s!==n&&(r=r.slice(0,s)),r}function vn(t,e){for(var n=e.length<0?0:Dn(e.length)|0,r=Ge(t,n),s=0;s<n;s+=1)r[s]=e[s]&255;return r}function Ic(t,e,n,r){if(n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");var s;return n===void 0&&r===void 0?s=new Uint8Array(e):r===void 0?s=new Uint8Array(e,n):s=new Uint8Array(e,n,r),W.TYPED_ARRAY_SUPPORT?s.__proto__=W.prototype:s=vn(t,s),s}function Tc(t,e){if(W.isBuffer(e)){var n=Dn(e.length)|0,r=Ge(t,n);return r.length===0||e.copy(r,0,0,n),r}if(e){if(typeof ArrayBuffer<"u"&&e.buffer instanceof ArrayBuffer||"length"in e)return typeof e.length!="number"||kc(e.length)?Ge(t,0):vn(t,e);if(e.type==="Buffer"&&Array.isArray(e.data))return vn(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function zi(t,e){e=e||1/0;for(var n,r=t.length,s=null,o=[],u=0;u<r;++u){if(n=t.charCodeAt(u),n>55295&&n<57344){if(!s){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}else if(u+1===r){(e-=3)>-1&&o.push(239,191,189);continue}s=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),s=n;continue}n=(s-55296<<10|n-56320)+65536}else s&&(e-=3)>-1&&o.push(239,191,189);if(s=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,n&63|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,n&63|128)}else if(n<1114112){if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,n&63|128)}else throw new Error("Invalid code point")}return o}function ji(t){if(W.isBuffer(t))return t.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;typeof t!="string"&&(t=""+t);var e=t.length;return e===0?0:zi(t).length}function Ac(t,e,n,r){for(var s=0;s<r&&!(s+n>=e.length||s>=t.length);++s)e[s+n]=t[s];return s}function Nc(t,e,n,r){return Ac(zi(e,t.length-n),t,n,r)}function Oc(t,e,n,r){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer?Ic(t,e,n,r):typeof e=="string"?Rc(t,e):Tc(t,e)}W.prototype.write=function(e,n,r){n===void 0?(r=this.length,n=0):r===void 0&&typeof n=="string"?(r=this.length,n=0):isFinite(n)&&(n=n|0,isFinite(r)?r=r|0:r=void 0);var s=this.length-n;if((r===void 0||r>s)&&(r=s),e.length>0&&(r<0||n<0)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds");return Nc(this,e,n,r)};W.prototype.slice=function(e,n){var r=this.length;e=~~e,n=n===void 0?r:~~n,e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),n<0?(n+=r,n<0&&(n=0)):n>r&&(n=r),n<e&&(n=e);var s;if(W.TYPED_ARRAY_SUPPORT)s=this.subarray(e,n),s.__proto__=W.prototype;else{var o=n-e;s=new W(o,void 0);for(var u=0;u<o;++u)s[u]=this[u+e]}return s};W.prototype.copy=function(e,n,r,s){if(r||(r=0),!s&&s!==0&&(s=this.length),n>=e.length&&(n=e.length),n||(n=0),s>0&&s<r&&(s=r),s===r||e.length===0||this.length===0)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(s<0)throw new RangeError("sourceEnd out of bounds");s>this.length&&(s=this.length),e.length-n<s-r&&(s=e.length-n+r);var o=s-r,u;if(this===e&&r<n&&n<s)for(u=o-1;u>=0;--u)e[u+n]=this[u+r];else if(o<1e3||!W.TYPED_ARRAY_SUPPORT)for(u=0;u<o;++u)e[u+n]=this[u+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),n);return o};W.prototype.fill=function(e,n,r){if(typeof e=="string"){if(typeof n=="string"?(n=0,r=this.length):typeof r=="string"&&(r=this.length),e.length===1){var s=e.charCodeAt(0);s<256&&(e=s)}}else typeof e=="number"&&(e=e&255);if(n<0||this.length<n||this.length<r)throw new RangeError("Out of range index");if(r<=n)return this;n=n>>>0,r=r===void 0?this.length:r>>>0,e||(e=0);var o;if(typeof e=="number")for(o=n;o<r;++o)this[o]=e;else{var u=W.isBuffer(e)?e:new W(e),m=u.length;for(o=0;o<r-n;++o)this[o+n]=u[o%m]}return this};W.concat=function(e,n){if(!Sc(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return Ge(null,0);var r;if(n===void 0)for(n=0,r=0;r<e.length;++r)n+=e[r].length;var s=Hi(null,n),o=0;for(r=0;r<e.length;++r){var u=e[r];if(!W.isBuffer(u))throw new TypeError('"list" argument must be an Array of Buffers');u.copy(s,o),o+=u.length}return s};W.byteLength=ji;W.prototype._isBuffer=!0;W.isBuffer=function(e){return!!(e!=null&&e._isBuffer)};We.alloc=function(t){var e=new W(t);return e.fill(0),e};We.from=function(t){return new W(t)};var Ae={},Fn,Bc=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Ae.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};Ae.getSymbolTotalCodewords=function(e){return Bc[e]};Ae.getBCHDigit=function(t){for(var e=0;t!==0;)e++,t>>>=1;return e};Ae.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');Fn=e};Ae.isKanjiModeEnabled=function(){return typeof Fn<"u"};Ae.toSJIS=function(e){return Fn(e)};var Ot={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");var r=n.toLowerCase();switch(r){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,s){if(t.isValid(r))return r;try{return e(r)}catch{return s}}})(Ot);function Ji(){this.buffer=[],this.length=0}Ji.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(var n=0;n<e;n++)this.putBit((t>>>e-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var Lc=Ji,Ir=We;function pt(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=Ir.alloc(t*t),this.reservedBit=Ir.alloc(t*t)}pt.prototype.set=function(t,e,n,r){var s=t*this.size+e;this.data[s]=n,r&&(this.reservedBit[s]=!0)};pt.prototype.get=function(t,e){return this.data[t*this.size+e]};pt.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n};pt.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var Pc=pt,Ki={};(function(t){var e=Ae.getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];for(var s=Math.floor(r/7)+2,o=e(r),u=o===145?26:Math.ceil((o-13)/(2*s-2))*2,m=[o-7],v=1;v<s-1;v++)m[v]=m[v-1]-u;return m.push(6),m.reverse()},t.getPositions=function(r){for(var s=[],o=t.getRowColCoords(r),u=o.length,m=0;m<u;m++)for(var v=0;v<u;v++)m===0&&v===0||m===0&&v===u-1||m===u-1&&v===0||s.push([o[m],o[v]]);return s}})(Ki);var Vi={},qc=Ae.getSymbolSize,Tr=7;Vi.getPositions=function(e){var n=qc(e);return[[0,0],[n-Tr,0],[0,n-Tr]]};var Qi={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},t.from=function(s){return t.isValid(s)?parseInt(s,10):void 0},t.getPenaltyN1=function(s){for(var o=s.size,u=0,m=0,v=0,x=null,y=null,k=0;k<o;k++){m=v=0,x=y=null;for(var I=0;I<o;I++){var T=s.get(k,I);T===x?m++:(m>=5&&(u+=e.N1+(m-5)),x=T,m=1),T=s.get(I,k),T===y?v++:(v>=5&&(u+=e.N1+(v-5)),y=T,v=1)}m>=5&&(u+=e.N1+(m-5)),v>=5&&(u+=e.N1+(v-5))}return u},t.getPenaltyN2=function(s){for(var o=s.size,u=0,m=0;m<o-1;m++)for(var v=0;v<o-1;v++){var x=s.get(m,v)+s.get(m,v+1)+s.get(m+1,v)+s.get(m+1,v+1);(x===4||x===0)&&u++}return u*e.N2},t.getPenaltyN3=function(s){for(var o=s.size,u=0,m=0,v=0,x=0;x<o;x++){m=v=0;for(var y=0;y<o;y++)m=m<<1&2047|s.get(x,y),y>=10&&(m===1488||m===93)&&u++,v=v<<1&2047|s.get(y,x),y>=10&&(v===1488||v===93)&&u++}return u*e.N3},t.getPenaltyN4=function(s){for(var o=0,u=s.data.length,m=0;m<u;m++)o+=s.data[m];var v=Math.abs(Math.ceil(o*100/u/5)-10);return v*e.N4};function n(r,s,o){switch(r){case t.Patterns.PATTERN000:return(s+o)%2===0;case t.Patterns.PATTERN001:return s%2===0;case t.Patterns.PATTERN010:return o%3===0;case t.Patterns.PATTERN011:return(s+o)%3===0;case t.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(o/3))%2===0;case t.Patterns.PATTERN101:return s*o%2+s*o%3===0;case t.Patterns.PATTERN110:return(s*o%2+s*o%3)%2===0;case t.Patterns.PATTERN111:return(s*o%3+(s+o)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(s,o){for(var u=o.size,m=0;m<u;m++)for(var v=0;v<u;v++)o.isReserved(v,m)||o.xor(v,m,n(s,v,m))},t.getBestMask=function(s,o){for(var u=Object.keys(t.Patterns).length,m=0,v=1/0,x=0;x<u;x++){o(x),t.applyMask(x,s);var y=t.getPenaltyN1(s)+t.getPenaltyN2(s)+t.getPenaltyN3(s)+t.getPenaltyN4(s);t.applyMask(x,s),y<v&&(v=y,m=x)}return m}})(Qi);var Bt={},Ue=Ot,vt=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],wt=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Bt.getBlocksCount=function(e,n){switch(n){case Ue.L:return vt[(e-1)*4+0];case Ue.M:return vt[(e-1)*4+1];case Ue.Q:return vt[(e-1)*4+2];case Ue.H:return vt[(e-1)*4+3];default:return}};Bt.getTotalCodewordsCount=function(e,n){switch(n){case Ue.L:return wt[(e-1)*4+0];case Ue.M:return wt[(e-1)*4+1];case Ue.Q:return wt[(e-1)*4+2];case Ue.H:return wt[(e-1)*4+3];default:return}};var Yi={},Lt={},Gi=We,st=Gi.alloc(512),xt=Gi.alloc(256);(function(){for(var e=1,n=0;n<255;n++)st[n]=e,xt[e]=n,e<<=1,e&256&&(e^=285);for(n=255;n<512;n++)st[n]=st[n-255]})();Lt.log=function(e){if(e<1)throw new Error("log("+e+")");return xt[e]};Lt.exp=function(e){return st[e]};Lt.mul=function(e,n){return e===0||n===0?0:st[xt[e]+xt[n]]};(function(t){var e=We,n=Lt;t.mul=function(s,o){for(var u=e.alloc(s.length+o.length-1),m=0;m<s.length;m++)for(var v=0;v<o.length;v++)u[m+v]^=n.mul(s[m],o[v]);return u},t.mod=function(s,o){for(var u=e.from(s);u.length-o.length>=0;){for(var m=u[0],v=0;v<o.length;v++)u[v]^=n.mul(o[v],m);for(var x=0;x<u.length&&u[x]===0;)x++;u=u.slice(x)}return u},t.generateECPolynomial=function(s){for(var o=e.from([1]),u=0;u<s;u++)o=t.mul(o,[1,n.exp(u)]);return o}})(Yi);var Ar=We,Zi=Yi,Uc=Zr.Buffer;function Wn(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}Wn.prototype.initialize=function(e){this.degree=e,this.genPoly=Zi.generateECPolynomial(this.degree)};Wn.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");var n=Ar.alloc(this.degree),r=Uc.concat([e,n],e.length+this.degree),s=Zi.mod(r,this.genPoly),o=this.degree-s.length;if(o>0){var u=Ar.alloc(this.degree);return s.copy(u,o),u}return s};var $c=Wn,Xi={},He={},Hn={};Hn.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var Oe={},eo="[0-9]+",Dc="[A-Z $%*+\\-./:]+",ft="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";ft=ft.replace(/u/g,"\\u");var Fc="(?:(?![A-Z0-9 $%*+\\-./:]|"+ft+`)(?:.|[\r
]))+`;Oe.KANJI=new RegExp(ft,"g");Oe.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Oe.BYTE=new RegExp(Fc,"g");Oe.NUMERIC=new RegExp(eo,"g");Oe.ALPHANUMERIC=new RegExp(Dc,"g");var Wc=new RegExp("^"+ft+"$"),Hc=new RegExp("^"+eo+"$"),zc=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Oe.testKanji=function(e){return Wc.test(e)};Oe.testNumeric=function(e){return Hc.test(e)};Oe.testAlphanumeric=function(e){return zc.test(e)};(function(t){var e=Hn,n=Oe;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(o,u){if(!o.ccBits)throw new Error("Invalid mode: "+o);if(!e.isValid(u))throw new Error("Invalid version: "+u);return u>=1&&u<10?o.ccBits[0]:u<27?o.ccBits[1]:o.ccBits[2]},t.getBestModeForData=function(o){return n.testNumeric(o)?t.NUMERIC:n.testAlphanumeric(o)?t.ALPHANUMERIC:n.testKanji(o)?t.KANJI:t.BYTE},t.toString=function(o){if(o&&o.id)return o.id;throw new Error("Invalid mode")},t.isValid=function(o){return o&&o.bit&&o.ccBits};function r(s){if(typeof s!="string")throw new Error("Param is not a string");var o=s.toLowerCase();switch(o){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+s)}}t.from=function(o,u){if(t.isValid(o))return o;try{return r(o)}catch{return u}}})(He);(function(t){var e=Ae,n=Bt,r=Ot,s=He,o=Hn,u=$n,m=7973,v=e.getBCHDigit(m);function x(T,R,N){for(var w=1;w<=40;w++)if(R<=t.getCapacity(w,N,T))return w}function y(T,R){return s.getCharCountIndicator(T,R)+4}function k(T,R){var N=0;return T.forEach(function(w){var M=y(w.mode,R);N+=M+w.getBitsLength()}),N}function I(T,R){for(var N=1;N<=40;N++){var w=k(T,N);if(w<=t.getCapacity(N,R,s.MIXED))return N}}t.from=function(R,N){return o.isValid(R)?parseInt(R,10):N},t.getCapacity=function(R,N,w){if(!o.isValid(R))throw new Error("Invalid QR Code version");typeof w>"u"&&(w=s.BYTE);var M=e.getSymbolTotalCodewords(R),S=n.getTotalCodewordsCount(R,N),E=(M-S)*8;if(w===s.MIXED)return E;var C=E-y(w,R);switch(w){case s.NUMERIC:return Math.floor(C/10*3);case s.ALPHANUMERIC:return Math.floor(C/11*2);case s.KANJI:return Math.floor(C/13);case s.BYTE:default:return Math.floor(C/8)}},t.getBestVersionForData=function(R,N){var w,M=r.from(N,r.M);if(u(R)){if(R.length>1)return I(R,M);if(R.length===0)return 1;w=R[0]}else w=R;return x(w.mode,w.getLength(),M)},t.getEncodedBits=function(R){if(!o.isValid(R)||R<7)throw new Error("Invalid QR Code version");for(var N=R<<12;e.getBCHDigit(N)-v>=0;)N^=m<<e.getBCHDigit(N)-v;return R<<12|N}})(Xi);var to={},wn=Ae,no=1335,jc=21522,Nr=wn.getBCHDigit(no);to.getEncodedBits=function(e,n){for(var r=e.bit<<3|n,s=r<<10;wn.getBCHDigit(s)-Nr>=0;)s^=no<<wn.getBCHDigit(s)-Nr;return(r<<10|s)^jc};var ro={},Jc=He;function Ze(t){this.mode=Jc.NUMERIC,this.data=t.toString()}Ze.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};Ze.prototype.getLength=function(){return this.data.length};Ze.prototype.getBitsLength=function(){return Ze.getBitsLength(this.data.length)};Ze.prototype.write=function(e){var n,r,s;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),s=parseInt(r,10),e.put(s,10);var o=this.data.length-n;o>0&&(r=this.data.substr(n),s=parseInt(r,10),e.put(s,o*3+1))};var Kc=Ze,Vc=He,cn=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Xe(t){this.mode=Vc.ALPHANUMERIC,this.data=t}Xe.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};Xe.prototype.getLength=function(){return this.data.length};Xe.prototype.getBitsLength=function(){return Xe.getBitsLength(this.data.length)};Xe.prototype.write=function(e){var n;for(n=0;n+2<=this.data.length;n+=2){var r=cn.indexOf(this.data[n])*45;r+=cn.indexOf(this.data[n+1]),e.put(r,11)}this.data.length%2&&e.put(cn.indexOf(this.data[n]),6)};var Qc=Xe,Yc=We,Gc=He;function et(t){this.mode=Gc.BYTE,this.data=Yc.from(t)}et.getBitsLength=function(e){return e*8};et.prototype.getLength=function(){return this.data.length};et.prototype.getBitsLength=function(){return et.getBitsLength(this.data.length)};et.prototype.write=function(t){for(var e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)};var Zc=et,Xc=He,el=Ae;function tt(t){this.mode=Xc.KANJI,this.data=t}tt.getBitsLength=function(e){return e*13};tt.prototype.getLength=function(){return this.data.length};tt.prototype.getBitsLength=function(){return tt.getBitsLength(this.data.length)};tt.prototype.write=function(t){var e;for(e=0;e<this.data.length;e++){var n=el.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),t.put(n,13)}};var tl=tt;(function(t){var e=He,n=Kc,r=Qc,s=Zc,o=tl,u=Oe,m=Ae,v=Vo;function x(M){return unescape(encodeURIComponent(M)).length}function y(M,S,E){for(var C=[],L;(L=M.exec(E))!==null;)C.push({data:L[0],index:L.index,mode:S,length:L[0].length});return C}function k(M){var S=y(u.NUMERIC,e.NUMERIC,M),E=y(u.ALPHANUMERIC,e.ALPHANUMERIC,M),C,L;m.isKanjiModeEnabled()?(C=y(u.BYTE,e.BYTE,M),L=y(u.KANJI,e.KANJI,M)):(C=y(u.BYTE_KANJI,e.BYTE,M),L=[]);var O=S.concat(E,C,L);return O.sort(function(D,$){return D.index-$.index}).map(function(D){return{data:D.data,mode:D.mode,length:D.length}})}function I(M,S){switch(S){case e.NUMERIC:return n.getBitsLength(M);case e.ALPHANUMERIC:return r.getBitsLength(M);case e.KANJI:return o.getBitsLength(M);case e.BYTE:return s.getBitsLength(M)}}function T(M){return M.reduce(function(S,E){var C=S.length-1>=0?S[S.length-1]:null;return C&&C.mode===E.mode?(S[S.length-1].data+=E.data,S):(S.push(E),S)},[])}function R(M){for(var S=[],E=0;E<M.length;E++){var C=M[E];switch(C.mode){case e.NUMERIC:S.push([C,{data:C.data,mode:e.ALPHANUMERIC,length:C.length},{data:C.data,mode:e.BYTE,length:C.length}]);break;case e.ALPHANUMERIC:S.push([C,{data:C.data,mode:e.BYTE,length:C.length}]);break;case e.KANJI:S.push([C,{data:C.data,mode:e.BYTE,length:x(C.data)}]);break;case e.BYTE:S.push([{data:C.data,mode:e.BYTE,length:x(C.data)}])}}return S}function N(M,S){for(var E={},C={start:{}},L=["start"],O=0;O<M.length;O++){for(var D=M[O],$=[],V=0;V<D.length;V++){var p=D[V],i=""+O+V;$.push(i),E[i]={node:p,lastCount:0},C[i]={};for(var c=0;c<L.length;c++){var l=L[c];E[l]&&E[l].node.mode===p.mode?(C[l][i]=I(E[l].lastCount+p.length,p.mode)-I(E[l].lastCount,p.mode),E[l].lastCount+=p.length):(E[l]&&(E[l].lastCount=p.length),C[l][i]=I(p.length,p.mode)+4+e.getCharCountIndicator(p.mode,S))}}L=$}for(c=0;c<L.length;c++)C[L[c]].end=0;return{map:C,table:E}}function w(M,S){var E,C=e.getBestModeForData(M);if(E=e.from(S,C),E!==e.BYTE&&E.bit<C.bit)throw new Error('"'+M+'" cannot be encoded with mode '+e.toString(E)+`.
 Suggested mode is: `+e.toString(C));switch(E===e.KANJI&&!m.isKanjiModeEnabled()&&(E=e.BYTE),E){case e.NUMERIC:return new n(M);case e.ALPHANUMERIC:return new r(M);case e.KANJI:return new o(M);case e.BYTE:return new s(M)}}t.fromArray=function(S){return S.reduce(function(E,C){return typeof C=="string"?E.push(w(C,null)):C.data&&E.push(w(C.data,C.mode)),E},[])},t.fromString=function(S,E){for(var C=k(S,m.isKanjiModeEnabled()),L=R(C),O=N(L,E),D=v.find_path(O.map,"start","end"),$=[],V=1;V<D.length-1;V++)$.push(O.table[D[V]].node);return t.fromArray(T($))},t.rawSplit=function(S){return t.fromArray(k(S,m.isKanjiModeEnabled()))}})(ro);var Or=We,Pt=Ae,ln=Ot,nl=Lc,rl=Pc,il=Ki,ol=Vi,yn=Qi,bn=Bt,al=$c,Et=Xi,sl=to,cl=He,fn=ro,ll=$n;function fl(t,e){for(var n=t.size,r=ol.getPositions(e),s=0;s<r.length;s++)for(var o=r[s][0],u=r[s][1],m=-1;m<=7;m++)if(!(o+m<=-1||n<=o+m))for(var v=-1;v<=7;v++)u+v<=-1||n<=u+v||(m>=0&&m<=6&&(v===0||v===6)||v>=0&&v<=6&&(m===0||m===6)||m>=2&&m<=4&&v>=2&&v<=4?t.set(o+m,u+v,!0,!0):t.set(o+m,u+v,!1,!0))}function ul(t){for(var e=t.size,n=8;n<e-8;n++){var r=n%2===0;t.set(n,6,r,!0),t.set(6,n,r,!0)}}function hl(t,e){for(var n=il.getPositions(e),r=0;r<n.length;r++)for(var s=n[r][0],o=n[r][1],u=-2;u<=2;u++)for(var m=-2;m<=2;m++)u===-2||u===2||m===-2||m===2||u===0&&m===0?t.set(s+u,o+m,!0,!0):t.set(s+u,o+m,!1,!0)}function dl(t,e){for(var n=t.size,r=Et.getEncodedBits(e),s,o,u,m=0;m<18;m++)s=Math.floor(m/3),o=m%3+n-8-3,u=(r>>m&1)===1,t.set(s,o,u,!0),t.set(o,s,u,!0)}function un(t,e,n){var r=t.size,s=sl.getEncodedBits(e,n),o,u;for(o=0;o<15;o++)u=(s>>o&1)===1,o<6?t.set(o,8,u,!0):o<8?t.set(o+1,8,u,!0):t.set(r-15+o,8,u,!0),o<8?t.set(8,r-o-1,u,!0):o<9?t.set(8,15-o-1+1,u,!0):t.set(8,15-o-1,u,!0);t.set(r-8,8,1,!0)}function gl(t,e){for(var n=t.size,r=-1,s=n-1,o=7,u=0,m=n-1;m>0;m-=2)for(m===6&&m--;;){for(var v=0;v<2;v++)if(!t.isReserved(s,m-v)){var x=!1;u<e.length&&(x=(e[u]>>>o&1)===1),t.set(s,m-v,x),o--,o===-1&&(u++,o=7)}if(s+=r,s<0||n<=s){s-=r,r=-r;break}}}function pl(t,e,n){var r=new nl;n.forEach(function(x){r.put(x.mode.bit,4),r.put(x.getLength(),cl.getCharCountIndicator(x.mode,t)),x.write(r)});var s=Pt.getSymbolTotalCodewords(t),o=bn.getTotalCodewordsCount(t,e),u=(s-o)*8;for(r.getLengthInBits()+4<=u&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);for(var m=(u-r.getLengthInBits())/8,v=0;v<m;v++)r.put(v%2?17:236,8);return ml(r,t,e)}function ml(t,e,n){for(var r=Pt.getSymbolTotalCodewords(e),s=bn.getTotalCodewordsCount(e,n),o=r-s,u=bn.getBlocksCount(e,n),m=r%u,v=u-m,x=Math.floor(r/u),y=Math.floor(o/u),k=y+1,I=x-y,T=new al(I),R=0,N=new Array(u),w=new Array(u),M=0,S=Or.from(t.buffer),E=0;E<u;E++){var C=E<v?y:k;N[E]=S.slice(R,R+C),w[E]=T.encode(N[E]),R+=C,M=Math.max(M,C)}var L=Or.alloc(r),O=0,D,$;for(D=0;D<M;D++)for($=0;$<u;$++)D<N[$].length&&(L[O++]=N[$][D]);for(D=0;D<I;D++)for($=0;$<u;$++)L[O++]=w[$][D];return L}function _l(t,e,n,r){var s;if(ll(t))s=fn.fromArray(t);else if(typeof t=="string"){var o=e;if(!o){var u=fn.rawSplit(t);o=Et.getBestVersionForData(u,n)}s=fn.fromString(t,o||40)}else throw new Error("Invalid data");var m=Et.getBestVersionForData(s,n);if(!m)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=m;else if(e<m)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+m+`.
`);var v=pl(e,n,s),x=Pt.getSymbolSize(e),y=new rl(x);return fl(y,e),ul(y),hl(y,e),un(y,n,0),e>=7&&dl(y,e),gl(y,v),isNaN(r)&&(r=yn.getBestMask(y,un.bind(null,y,n))),yn.applyMask(r,y),un(y,n,r),{modules:y,version:e,errorCorrectionLevel:n,maskPattern:r,segments:s}}Wi.create=function(e,n){if(typeof e>"u"||e==="")throw new Error("No input text");var r=ln.M,s,o;return typeof n<"u"&&(r=ln.from(n.errorCorrectionLevel,ln.M),s=Et.from(n.version),o=yn.from(n.maskPattern),n.toSJISFunc&&Pt.setToSJISFunction(n.toSJISFunc)),_l(e,s,r,o)};var io={},zn={};(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");var r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(o){return[o,o]}))),r.length===6&&r.push("F","F");var s=parseInt(r.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});var s=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,o=r.width&&r.width>=21?r.width:void 0,u=r.scale||4;return{width:o,scale:o?4:u,margin:s,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,s){return s.width&&s.width>=r+s.margin*2?s.width/(r+s.margin*2):s.scale},t.getImageWidth=function(r,s){var o=t.getScale(r,s);return Math.floor((r+s.margin*2)*o)},t.qrToImageData=function(r,s,o){for(var u=s.modules.size,m=s.modules.data,v=t.getScale(u,o),x=Math.floor((u+o.margin*2)*v),y=o.margin*v,k=[o.color.light,o.color.dark],I=0;I<x;I++)for(var T=0;T<x;T++){var R=(I*x+T)*4,N=o.color.light;if(I>=y&&T>=y&&I<x-y&&T<x-y){var w=Math.floor((I-y)/v),M=Math.floor((T-y)/v);N=k[m[w*u+M]?1:0]}r[R++]=N.r,r[R++]=N.g,r[R++]=N.b,r[R]=N.a}}})(zn);(function(t){var e=zn;function n(s,o,u){s.clearRect(0,0,o.width,o.height),o.style||(o.style={}),o.height=u,o.width=u,o.style.height=u+"px",o.style.width=u+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(o,u,m){var v=m,x=u;typeof v>"u"&&(!u||!u.getContext)&&(v=u,u=void 0),u||(x=r()),v=e.getOptions(v);var y=e.getImageWidth(o.modules.size,v),k=x.getContext("2d"),I=k.createImageData(y,y);return e.qrToImageData(I.data,o,v),n(k,x,y),k.putImageData(I,0,0),x},t.renderToDataURL=function(o,u,m){var v=m;typeof v>"u"&&(!u||!u.getContext)&&(v=u,u=void 0),v||(v={});var x=t.render(o,u,v),y=v.type||"image/png",k=v.rendererOpts||{};return x.toDataURL(y,k.quality)}})(io);var oo={},vl=zn;function Br(t,e){var n=t.a/255,r=e+'="'+t.hex+'"';return n<1?r+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function hn(t,e,n){var r=t+e;return typeof n<"u"&&(r+=" "+n),r}function wl(t,e,n){for(var r="",s=0,o=!1,u=0,m=0;m<t.length;m++){var v=Math.floor(m%e),x=Math.floor(m/e);!v&&!o&&(o=!0),t[m]?(u++,m>0&&v>0&&t[m-1]||(r+=o?hn("M",v+n,.5+x+n):hn("m",s,0),s=0,o=!1),v+1<e&&t[m+1]||(r+=hn("h",u),u=0)):s++}return r}oo.render=function(e,n,r){var s=vl.getOptions(n),o=e.modules.size,u=e.modules.data,m=o+s.margin*2,v=s.color.light.a?"<path "+Br(s.color.light,"fill")+' d="M0 0h'+m+"v"+m+'H0z"/>':"",x="<path "+Br(s.color.dark,"stroke")+' d="'+wl(u,o,s.margin)+'"/>',y='viewBox="0 0 '+m+" "+m+'"',k=s.width?'width="'+s.width+'" height="'+s.width+'" ':"",I='<svg xmlns="http://www.w3.org/2000/svg" '+k+y+' shape-rendering="crispEdges">'+v+x+`</svg>
`;return typeof r=="function"&&r(null,I),I};var yl=xc,Mn=Wi,ao=io,bl=oo;function jn(t,e,n,r,s){var o=[].slice.call(arguments,1),u=o.length,m=typeof o[u-1]=="function";if(!m&&!yl())throw new Error("Callback required as last argument");if(m){if(u<2)throw new Error("Too few arguments provided");u===2?(s=n,n=e,e=r=void 0):u===3&&(e.getContext&&typeof s>"u"?(s=r,r=void 0):(s=r,r=n,n=e,e=void 0))}else{if(u<1)throw new Error("Too few arguments provided");return u===1?(n=e,e=r=void 0):u===2&&!e.getContext&&(r=n,n=e,e=void 0),new Promise(function(x,y){try{var k=Mn.create(n,r);x(t(k,e,r))}catch(I){y(I)}})}try{var v=Mn.create(n,r);s(null,t(v,e,r))}catch(x){s(x)}}gt.create=Mn.create;gt.toCanvas=jn.bind(null,ao.render);gt.toDataURL=jn.bind(null,ao.renderToDataURL);gt.toString=jn.bind(null,function(t,e,n){return bl.render(t,n)});var U,ct,Jn,so,Lr,Kn,co,Le={},qt=[],Ml=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function Be(t,e){for(var n in e)t[n]=e[n];return t}function lo(t){var e=t.parentNode;e&&e.removeChild(t)}function Pe(t,e,n){var r,s=arguments,o={};for(r in e)r!=="key"&&r!=="ref"&&(o[r]=e[r]);if(arguments.length>3)for(n=[n],r=3;r<arguments.length;r++)n.push(s[r]);if(n!=null&&(o.children=n),typeof t=="function"&&t.defaultProps!=null)for(r in t.defaultProps)o[r]===void 0&&(o[r]=t.defaultProps[r]);return St(t,o,e&&e.key,e&&e.ref,null)}function St(t,e,n,r,s){var o={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:s};return s==null&&(o.__v=o),U.vnode&&U.vnode(o),o}function fo(){return{}}function mt(t){return t.children}function Ne(t,e){this.props=t,this.context=e}function ut(t,e){if(e==null)return t.__?ut(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?ut(t):null}function uo(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return uo(t)}}function yt(t){(!t.__d&&(t.__d=!0)&&ct.push(t)&&!Jn++||Lr!==U.debounceRendering)&&((Lr=U.debounceRendering)||so)(xl)}function xl(){for(var t;Jn=ct.length;)t=ct.sort(function(e,n){return e.__v.__b-n.__v.__b}),ct=[],t.some(function(e){var n,r,s,o,u,m,v;e.__d&&(m=(u=(n=e).__v).__e,(v=n.__P)&&(r=[],(s=Be({},u)).__v=s,o=Vn(v,u,s,n.__n,v.ownerSVGElement!==void 0,null,r,m??ut(u)),go(r,u),o!=m&&uo(u)))})}function ho(t,e,n,r,s,o,u,m,v){var x,y,k,I,T,R,N,w=n&&n.__k||qt,M=w.length;if(m==Le&&(m=o!=null?o[0]:M?ut(n,0):null),x=0,e.__k=$e(e.__k,function(S){if(S!=null){if(S.__=e,S.__b=e.__b+1,(k=w[x])===null||k&&S.key==k.key&&S.type===k.type)w[x]=void 0;else for(y=0;y<M;y++){if((k=w[y])&&S.key==k.key&&S.type===k.type){w[y]=void 0;break}k=null}if(I=Vn(t,S,k=k||Le,r,s,o,u,m,v),(y=S.ref)&&k.ref!=y&&(N||(N=[]),k.ref&&N.push(k.ref,null,S),N.push(y,S.__c||I,S)),I!=null){var E;if(R==null&&(R=I),S.__d!==void 0)E=S.__d,S.__d=void 0;else if(o==k||I!=m||I.parentNode==null){e:if(m==null||m.parentNode!==t)t.appendChild(I),E=null;else{for(T=m,y=0;(T=T.nextSibling)&&y<M;y+=2)if(T==I)break e;t.insertBefore(I,m),E=m}e.type=="option"&&(t.value="")}m=E!==void 0?E:I.nextSibling,typeof e.type=="function"&&(e.__d=m)}else m&&k.__e==m&&m.parentNode!=t&&(m=ut(k))}return x++,S}),e.__e=R,o!=null&&typeof e.type!="function")for(x=o.length;x--;)o[x]!=null&&lo(o[x]);for(x=M;x--;)w[x]!=null&&lt(w[x],w[x]);if(N)for(x=0;x<N.length;x++)po(N[x],N[++x],N[++x])}function $e(t,e,n){if(n==null&&(n=[]),t==null||typeof t=="boolean")e&&n.push(e(null));else if(Array.isArray(t))for(var r=0;r<t.length;r++)$e(t[r],e,n);else n.push(e?e(typeof t=="string"||typeof t=="number"?St(null,t,null,null,t):t.__e!=null||t.__c!=null?St(t.type,t.props,t.key,null,t.__v):t):t);return n}function El(t,e,n,r,s){var o;for(o in n)o==="children"||o==="key"||o in e||Ct(t,o,null,n[o],r);for(o in e)s&&typeof e[o]!="function"||o==="children"||o==="key"||o==="value"||o==="checked"||n[o]===e[o]||Ct(t,o,e[o],n[o],r)}function Pr(t,e,n){e[0]==="-"?t.setProperty(e,n):t[e]=typeof n=="number"&&Ml.test(e)===!1?n+"px":n??""}function Ct(t,e,n,r,s){var o,u,m,v,x;if(s?e==="className"&&(e="class"):e==="class"&&(e="className"),e==="style")if(o=t.style,typeof n=="string")o.cssText=n;else{if(typeof r=="string"&&(o.cssText="",r=null),r)for(v in r)n&&v in n||Pr(o,v,"");if(n)for(x in n)r&&n[x]===r[x]||Pr(o,x,n[x])}else e[0]==="o"&&e[1]==="n"?(u=e!==(e=e.replace(/Capture$/,"")),m=e.toLowerCase(),e=(m in t?m:e).slice(2),n?(r||t.addEventListener(e,qr,u),(t.l||(t.l={}))[e]=n):t.removeEventListener(e,qr,u)):e!=="list"&&e!=="tagName"&&e!=="form"&&e!=="type"&&e!=="size"&&!s&&e in t?t[e]=n??"":typeof n!="function"&&e!=="dangerouslySetInnerHTML"&&(e!==(e=e.replace(/^xlink:?/,""))?n==null||n===!1?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),n):n==null||n===!1&&!/^ar/.test(e)?t.removeAttribute(e):t.setAttribute(e,n))}function qr(t){this.l[t.type](U.event?U.event(t):t)}function Vn(t,e,n,r,s,o,u,m,v){var x,y,k,I,T,R,N,w,M,S,E=e.type;if(e.constructor!==void 0)return null;(x=U.__b)&&x(e);try{e:if(typeof E=="function"){if(w=e.props,M=(x=E.contextType)&&r[x.__c],S=x?M?M.props.value:x.__:r,n.__c?N=(y=e.__c=n.__c).__=y.__E:("prototype"in E&&E.prototype.render?e.__c=y=new E(w,S):(e.__c=y=new Ne(w,S),y.constructor=E,y.render=Cl),M&&M.sub(y),y.props=w,y.state||(y.state={}),y.context=S,y.__n=r,k=y.__d=!0,y.__h=[]),y.__s==null&&(y.__s=y.state),E.getDerivedStateFromProps!=null&&(y.__s==y.state&&(y.__s=Be({},y.__s)),Be(y.__s,E.getDerivedStateFromProps(w,y.__s))),I=y.props,T=y.state,k)E.getDerivedStateFromProps==null&&y.componentWillMount!=null&&y.componentWillMount(),y.componentDidMount!=null&&y.__h.push(y.componentDidMount);else{if(E.getDerivedStateFromProps==null&&w!==I&&y.componentWillReceiveProps!=null&&y.componentWillReceiveProps(w,S),!y.__e&&y.shouldComponentUpdate!=null&&y.shouldComponentUpdate(w,y.__s,S)===!1||e.__v===n.__v&&!y.__){for(y.props=w,y.state=y.__s,e.__v!==n.__v&&(y.__d=!1),y.__v=e,e.__e=n.__e,e.__k=n.__k,y.__h.length&&u.push(y),x=0;x<e.__k.length;x++)e.__k[x]&&(e.__k[x].__=e);break e}y.componentWillUpdate!=null&&y.componentWillUpdate(w,y.__s,S),y.componentDidUpdate!=null&&y.__h.push(function(){y.componentDidUpdate(I,T,R)})}y.context=S,y.props=w,y.state=y.__s,(x=U.__r)&&x(e),y.__d=!1,y.__v=e,y.__P=t,x=y.render(y.props,y.state,y.context),e.__k=x!=null&&x.type==mt&&x.key==null?x.props.children:Array.isArray(x)?x:[x],y.getChildContext!=null&&(r=Be(Be({},r),y.getChildContext())),k||y.getSnapshotBeforeUpdate==null||(R=y.getSnapshotBeforeUpdate(I,T)),ho(t,e,n,r,s,o,u,m,v),y.base=e.__e,y.__h.length&&u.push(y),N&&(y.__E=y.__=null),y.__e=!1}else o==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=Sl(n.__e,e,n,r,s,o,u,v);(x=U.diffed)&&x(e)}catch(C){e.__v=null,U.__e(C,e,n)}return e.__e}function go(t,e){U.__c&&U.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(r){r.call(n)})}catch(r){U.__e(r,n.__v)}})}function Sl(t,e,n,r,s,o,u,m){var v,x,y,k,I,T=n.props,R=e.props;if(s=e.type==="svg"||s,o!=null){for(v=0;v<o.length;v++)if((x=o[v])!=null&&((e.type===null?x.nodeType===3:x.localName===e.type)||t==x)){t=x,o[v]=null;break}}if(t==null){if(e.type===null)return document.createTextNode(R);t=s?document.createElementNS("http://www.w3.org/2000/svg",e.type):document.createElement(e.type,R.is&&{is:R.is}),o=null,m=!1}if(e.type===null)T!==R&&t.data!=R&&(t.data=R);else{if(o!=null&&(o=qt.slice.call(t.childNodes)),y=(T=n.props||Le).dangerouslySetInnerHTML,k=R.dangerouslySetInnerHTML,!m){if(T===Le)for(T={},I=0;I<t.attributes.length;I++)T[t.attributes[I].name]=t.attributes[I].value;(k||y)&&(k&&y&&k.__html==y.__html||(t.innerHTML=k&&k.__html||""))}El(t,R,T,s,m),k?e.__k=[]:(e.__k=e.props.children,ho(t,e,n,r,e.type!=="foreignObject"&&s,o,u,Le,m)),m||("value"in R&&(v=R.value)!==void 0&&v!==t.value&&Ct(t,"value",v,T.value,!1),"checked"in R&&(v=R.checked)!==void 0&&v!==t.checked&&Ct(t,"checked",v,T.checked,!1))}return t}function po(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(r){U.__e(r,n)}}function lt(t,e,n){var r,s,o;if(U.unmount&&U.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||po(r,null,e)),n||typeof t.type=="function"||(n=(s=t.__e)!=null),t.__e=t.__d=void 0,(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(u){U.__e(u,e)}r.base=r.__P=null}if(r=t.__k)for(o=0;o<r.length;o++)r[o]&&lt(r[o],e,n);s!=null&&lo(s)}function Cl(t,e,n){return this.constructor(t,n)}function ht(t,e,n){var r,s,o;U.__&&U.__(t,e),s=(r=n===Kn)?null:n&&n.__k||e.__k,t=Pe(mt,null,[t]),o=[],Vn(e,(r?e:n||e).__k=t,s||Le,Le,e.ownerSVGElement!==void 0,n&&!r?[n]:s?null:qt.slice.call(e.childNodes),o,n||Le,r),go(o,t)}function mo(t,e){ht(t,e,Kn)}function kl(t,e){var n,r;for(r in e=Be(Be({},t.props),e),arguments.length>2&&(e.children=qt.slice.call(arguments,2)),n={},e)r!=="key"&&r!=="ref"&&(n[r]=e[r]);return St(t.type,n,e.key||t.key,e.ref||t.ref,null)}function _o(t){var e={},n={__c:"__cC"+co++,__:t,Consumer:function(r,s){return r.children(s)},Provider:function(r){var s,o=this;return this.getChildContext||(s=[],this.getChildContext=function(){return e[n.__c]=o,e},this.shouldComponentUpdate=function(u){o.props.value!==u.value&&s.some(function(m){m.context=u.value,yt(m)})},this.sub=function(u){s.push(u);var m=u.componentWillUnmount;u.componentWillUnmount=function(){s.splice(s.indexOf(u),1),m&&m.call(u)}}),r.children}};return n.Consumer.contextType=n,n.Provider.__=n,n}U={__e:function(t,e){for(var n,r;e=e.__;)if((n=e.__c)&&!n.__)try{if(n.constructor&&n.constructor.getDerivedStateFromError!=null&&(r=!0,n.setState(n.constructor.getDerivedStateFromError(t))),n.componentDidCatch!=null&&(r=!0,n.componentDidCatch(t)),r)return yt(n.__E=n)}catch(s){t=s}throw t}},Ne.prototype.setState=function(t,e){var n;n=this.__s!==this.state?this.__s:this.__s=Be({},this.state),typeof t=="function"&&(t=t(n,this.props)),t&&Be(n,t),t!=null&&this.__v&&(e&&this.__h.push(e),yt(this))},Ne.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),yt(this))},Ne.prototype.render=mt,ct=[],Jn=0,so=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Kn=Le,co=0;var Je,Te,Ur,nt=0,xn=[],$r=U.__r,Dr=U.diffed,Fr=U.__c,Wr=U.unmount;function ot(t,e){U.__h&&U.__h(Te,t,nt||e),nt=0;var n=Te.__H||(Te.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function Qn(t){return nt=1,Yn(Eo,t)}function Yn(t,e,n){var r=ot(Je++,2);return r.__c||(r.__c=Te,r.__=[n?n(e):Eo(void 0,e),function(s){var o=t(r.__[0],s);r.__[0]!==o&&(r.__[0]=o,r.__c.setState({}))}]),r.__}function vo(t,e){var n=ot(Je++,3);!U.__s&&Zn(n.__H,e)&&(n.__=t,n.__H=e,Te.__H.__h.push(n))}function Gn(t,e){var n=ot(Je++,4);!U.__s&&Zn(n.__H,e)&&(n.__=t,n.__H=e,Te.__h.push(n))}function wo(t){return nt=5,Ut(function(){return{current:t}},[])}function yo(t,e,n){nt=6,Gn(function(){typeof t=="function"?t(e()):t&&(t.current=e())},n==null?n:n.concat(t))}function Ut(t,e){var n=ot(Je++,7);return Zn(n.__H,e)?(n.__H=e,n.__h=t,n.__=t()):n.__}function bo(t,e){return nt=8,Ut(function(){return t},e)}function Mo(t){var e=Te.context[t.__c],n=ot(Je++,9);return n.__c=t,e?(n.__==null&&(n.__=!0,e.sub(Te)),e.props.value):t.__}function xo(t,e){U.useDebugValue&&U.useDebugValue(e?e(t):t)}function Rl(t){var e=ot(Je++,10),n=Qn();return e.__=t,Te.componentDidCatch||(Te.componentDidCatch=function(r){e.__&&e.__(r),n[1](r)}),[n[0],function(){n[1](void 0)}]}function Il(){xn.some(function(t){if(t.__P)try{t.__H.__h.forEach(En),t.__H.__h.forEach(Sn),t.__H.__h=[]}catch(e){return t.__H.__h=[],U.__e(e,t.__v),!0}}),xn=[]}function En(t){t.t&&t.t()}function Sn(t){var e=t.__();typeof e=="function"&&(t.t=e)}function Zn(t,e){return!t||e.some(function(n,r){return n!==t[r]})}function Eo(t,e){return typeof e=="function"?e(t):e}U.__r=function(t){$r&&$r(t),Je=0,(Te=t.__c).__H&&(Te.__H.__h.forEach(En),Te.__H.__h.forEach(Sn),Te.__H.__h=[])},U.diffed=function(t){Dr&&Dr(t);var e=t.__c;if(e){var n=e.__H;n&&n.__h.length&&(xn.push(e)!==1&&Ur===U.requestAnimationFrame||((Ur=U.requestAnimationFrame)||function(r){var s,o=function(){clearTimeout(u),cancelAnimationFrame(s),setTimeout(r)},u=setTimeout(o,100);typeof window<"u"&&(s=requestAnimationFrame(o))})(Il))}},U.__c=function(t,e){e.some(function(n){try{n.__h.forEach(En),n.__h=n.__h.filter(function(r){return!r.__||Sn(r)})}catch(r){e.some(function(s){s.__h&&(s.__h=[])}),e=[],U.__e(r,n.__v)}}),Fr&&Fr(t,e)},U.unmount=function(t){Wr&&Wr(t);var e=t.__c;if(e){var n=e.__H;if(n)try{n.__.forEach(function(r){return r.t&&r.t()})}catch(r){U.__e(r,e.__v)}}};function Xn(t,e){for(var n in e)t[n]=e[n];return t}function Cn(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var r in e)if(r!=="__source"&&t[r]!==e[r])return!0;return!1}var So=function(t){var e,n;function r(s){var o;return(o=t.call(this,s)||this).isPureReactComponent=!0,o}return n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,r.prototype.shouldComponentUpdate=function(s,o){return Cn(this.props,s)||Cn(this.state,o)},r}(Ne);function Co(t,e){function n(s){var o=this.props.ref,u=o==s.ref;return!u&&o&&(o.call?o(null):o.current=null),e?!e(this.props,s)||!u:Cn(this.props,s)}function r(s){return this.shouldComponentUpdate=n,Pe(t,Xn({},s))}return r.prototype.isReactComponent=!0,r.displayName="Memo("+(t.displayName||t.name)+")",r.t=!0,r}var Hr=U.__b;function ko(t){function e(n){var r=Xn({},n);return delete r.ref,t(r,n.ref)}return e.prototype.isReactComponent=e.t=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e}U.__b=function(t){t.type&&t.type.t&&t.ref&&(t.props.ref=t.ref,t.ref=null),Hr&&Hr(t)};var zr=function(t,e){return t?$e(t).reduce(function(n,r,s){return n.concat(e(r,s))},[]):null},Ro={map:zr,forEach:zr,count:function(t){return t?$e(t).length:0},only:function(t){if((t=$e(t)).length!==1)throw new Error("Children.only() expects only one child.");return t[0]},toArray:$e},Tl=U.__e;function Io(t){return t&&((t=Xn({},t)).__c=null,t.__k=t.__k&&t.__k.map(Io)),t}function kt(){this.__u=0,this.o=null,this.__b=null}function To(t){var e=t.__.__c;return e&&e.u&&e.u(t)}function Ao(t){var e,n,r;function s(o){if(e||(e=t()).then(function(u){n=u.default||u},function(u){r=u}),r)throw r;if(!n)throw e;return Pe(n,o)}return s.displayName="Lazy",s.t=!0,s}function Ke(){this.i=null,this.l=null}U.__e=function(t,e,n){if(t.then){for(var r,s=e;s=s.__;)if((r=s.__c)&&r.__c)return r.__c(t,e.__c)}Tl(t,e,n)},(kt.prototype=new Ne).__c=function(t,e){var n=this;n.o==null&&(n.o=[]),n.o.push(e);var r=To(n.__v),s=!1,o=function(){s||(s=!0,r?r(u):u())};e.__c=e.componentWillUnmount,e.componentWillUnmount=function(){o(),e.__c&&e.__c()};var u=function(){var m;if(!--n.__u)for(n.__v.__k[0]=n.state.u,n.setState({u:n.__b=null});m=n.o.pop();)m.forceUpdate()};n.__u++||n.setState({u:n.__b=n.__v.__k[0]}),t.then(o,o)},kt.prototype.render=function(t,e){return this.__b&&(this.__v.__k[0]=Io(this.__b),this.__b=null),[Pe(Ne,null,e.u?null:t.children),e.u&&t.fallback]};var jr=function(t,e,n){if(++n[1]===n[0]&&t.l.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.l.size))for(n=t.i;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.i=n=n[2]}};(Ke.prototype=new Ne).u=function(t){var e=this,n=To(e.__v),r=e.l.get(t);return r[0]++,function(s){var o=function(){e.props.revealOrder?(r.push(s),jr(e,t,r)):s()};n?n(o):o()}},Ke.prototype.render=function(t){this.i=null,this.l=new Map;var e=$e(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.l.set(e[n],this.i=[1,0,this.i]);return t.children},Ke.prototype.componentDidUpdate=Ke.prototype.componentDidMount=function(){var t=this;t.l.forEach(function(e,n){jr(t,n,e)})};var Al=function(){function t(){}var e=t.prototype;return e.getChildContext=function(){return this.props.context},e.render=function(n){return n.children},t}();function Nl(t){var e=this,n=t.container,r=Pe(Al,{context:e.context},t.vnode);return e.s&&e.s!==n&&(e.v.parentNode&&e.s.removeChild(e.v),lt(e.h),e.p=!1),t.vnode?e.p?(n.__k=e.__k,ht(r,n),e.__k=n.__k):(e.v=document.createTextNode(""),mo("",n),n.appendChild(e.v),e.p=!0,e.s=n,ht(r,n,e.v),e.__k=e.v.__k):e.p&&(e.v.parentNode&&e.s.removeChild(e.v),lt(e.h)),e.h=r,e.componentWillUnmount=function(){e.v.parentNode&&e.s.removeChild(e.v),lt(e.h)},null}function No(t,e){return Pe(Nl,{vnode:t,container:e})}var Jr=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/;Ne.prototype.isReactComponent={};var Oo=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103;function kn(t,e,n){if(e.__k==null)for(;e.firstChild;)e.removeChild(e.firstChild);return ht(t,e),typeof n=="function"&&n(),t?t.__c:null}function Ol(t,e,n){return mo(t,e),typeof n=="function"&&n(),t?t.__c:null}var Kr=U.event;function dn(t,e){t["UNSAFE_"+e]&&!t[e]&&Object.defineProperty(t,e,{configurable:!1,get:function(){return this["UNSAFE_"+e]},set:function(n){this["UNSAFE_"+e]=n}})}U.event=function(t){Kr&&(t=Kr(t)),t.persist=function(){};var e=!1,n=!1,r=t.stopPropagation;t.stopPropagation=function(){r.call(t),e=!0};var s=t.preventDefault;return t.preventDefault=function(){s.call(t),n=!0},t.isPropagationStopped=function(){return e},t.isDefaultPrevented=function(){return n},t.nativeEvent=t};var Vr={configurable:!0,get:function(){return this.class}},Qr=U.vnode;U.vnode=function(t){t.$$typeof=Oo;var e=t.type,n=t.props;if(e){if(n.class!=n.className&&(Vr.enumerable="className"in n,n.className!=null&&(n.class=n.className),Object.defineProperty(n,"className",Vr)),typeof e!="function"){var r,s,o;for(o in n.defaultValue&&n.value!==void 0&&(n.value||n.value===0||(n.value=n.defaultValue),delete n.defaultValue),Array.isArray(n.value)&&n.multiple&&e==="select"&&($e(n.children).forEach(function(u){n.value.indexOf(u.props.value)!=-1&&(u.props.selected=!0)}),delete n.value),n)if(r=Jr.test(o))break;if(r)for(o in s=t.props={},n)s[Jr.test(o)?o.replace(/[A-Z0-9]/,"-$&").toLowerCase():o]=n[o]}(function(u){var m=t.type,v=t.props;if(v&&typeof m=="string"){var x={};for(var y in v)/^on(Ani|Tra|Tou)/.test(y)&&(v[y.toLowerCase()]=v[y],delete v[y]),x[y.toLowerCase()]=y;if(x.ondoubleclick&&(v.ondblclick=v[x.ondoubleclick],delete v[x.ondoubleclick]),x.onbeforeinput&&(v.onbeforeinput=v[x.onbeforeinput],delete v[x.onbeforeinput]),x.onchange&&(m==="textarea"||m.toLowerCase()==="input"&&!/^fil|che|ra/i.test(v.type))){var k=x.oninput||"oninput";v[k]||(v[k]=v[x.onchange],delete v[x.onchange])}}})(),typeof e=="function"&&!e.m&&e.prototype&&(dn(e.prototype,"componentWillMount"),dn(e.prototype,"componentWillReceiveProps"),dn(e.prototype,"componentWillUpdate"),e.m=!0)}Qr&&Qr(t)};var Bl="16.8.0";function Bo(t){return Pe.bind(null,t)}function er(t){return!!t&&t.$$typeof===Oo}function Lo(t){return er(t)?kl.apply(null,arguments):t}function Po(t){return!!t.__k&&(ht(null,t),!0)}function qo(t){return t&&(t.base||t.nodeType===1&&t)||null}var Uo=function(t,e){return t(e)};const Ll={useState:Qn,useReducer:Yn,useEffect:vo,useLayoutEffect:Gn,useRef:wo,useImperativeHandle:yo,useMemo:Ut,useCallback:bo,useContext:Mo,useDebugValue:xo,version:"16.8.0",Children:Ro,render:kn,hydrate:kn,unmountComponentAtNode:Po,createPortal:No,createElement:Pe,createContext:_o,createFactory:Bo,cloneElement:Lo,createRef:fo,Fragment:mt,isValidElement:er,findDOMNode:qo,Component:Ne,PureComponent:So,memo:Co,forwardRef:ko,unstable_batchedUpdates:Uo,Suspense:kt,SuspenseList:Ke,lazy:Ao},Pl=Object.freeze(Object.defineProperty({__proto__:null,Children:Ro,Component:Ne,Fragment:mt,PureComponent:So,Suspense:kt,SuspenseList:Ke,cloneElement:Lo,createContext:_o,createElement:Pe,createFactory:Bo,createPortal:No,createRef:fo,default:Ll,findDOMNode:qo,forwardRef:ko,hydrate:Ol,isValidElement:er,lazy:Ao,memo:Co,render:kn,unmountComponentAtNode:Po,unstable_batchedUpdates:Uo,useCallback:bo,useContext:Mo,useDebugValue:xo,useEffect:vo,useErrorBoundary:Rl,useImperativeHandle:yo,useLayoutEffect:Gn,useMemo:Ut,useReducer:Yn,useRef:wo,useState:Qn,version:Bl},Symbol.toStringTag,{value:"Module"})),ql=Xr(Pl);function $o(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var Ie=Mc,Do=$o(gt),Ul=$o(Qo),A=ql;function $l(t){Do.toString(t,{type:"terminal"}).then(console.log)}var Dl=`:root {
  --animation-duration: 300ms;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes fadeOut {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

.animated {
  animation-duration: var(--animation-duration);
  animation-fill-mode: both;
}

.fadeIn {
  animation-name: fadeIn;
}

.fadeOut {
  animation-name: fadeOut;
}

#walletconnect-wrapper {
  -webkit-user-select: none;
  align-items: center;
  display: flex;
  height: 100%;
  justify-content: center;
  left: 0;
  pointer-events: none;
  position: fixed;
  top: 0;
  user-select: none;
  width: 100%;
  z-index: 99999999999999;
}

.walletconnect-modal__headerLogo {
  height: 21px;
}

.walletconnect-modal__header p {
  color: #ffffff;
  font-size: 20px;
  font-weight: 600;
  margin: 0;
  align-items: flex-start;
  display: flex;
  flex: 1;
  margin-left: 5px;
}

.walletconnect-modal__close__wrapper {
  position: absolute;
  top: 0px;
  right: 0px;
  z-index: 10000;
  background: white;
  border-radius: 26px;
  padding: 6px;
  box-sizing: border-box;
  width: 26px;
  height: 26px;
  cursor: pointer;
}

.walletconnect-modal__close__icon {
  position: relative;
  top: 7px;
  right: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  transform: rotate(45deg);
}

.walletconnect-modal__close__line1 {
  position: absolute;
  width: 100%;
  border: 1px solid rgb(48, 52, 59);
}

.walletconnect-modal__close__line2 {
  position: absolute;
  width: 100%;
  border: 1px solid rgb(48, 52, 59);
  transform: rotate(90deg);
}

.walletconnect-qrcode__base {
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  background: rgba(37, 41, 46, 0.95);
  height: 100%;
  left: 0;
  pointer-events: auto;
  position: fixed;
  top: 0;
  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);
  width: 100%;
  will-change: opacity;
  padding: 40px;
  box-sizing: border-box;
}

.walletconnect-qrcode__text {
  color: rgba(60, 66, 82, 0.6);
  font-size: 16px;
  font-weight: 600;
  letter-spacing: 0;
  line-height: 1.1875em;
  margin: 10px 0 20px 0;
  text-align: center;
  width: 100%;
}

@media only screen and (max-width: 768px) {
  .walletconnect-qrcode__text {
    font-size: 4vw;
  }
}

@media only screen and (max-width: 320px) {
  .walletconnect-qrcode__text {
    font-size: 14px;
  }
}

.walletconnect-qrcode__image {
  width: calc(100% - 30px);
  box-sizing: border-box;
  cursor: none;
  margin: 0 auto;
}

.walletconnect-qrcode__notification {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  font-size: 16px;
  padding: 16px 20px;
  border-radius: 16px;
  text-align: center;
  transition: all 0.1s ease-in-out;
  background: white;
  color: black;
  margin-bottom: -60px;
  opacity: 0;
}

.walletconnect-qrcode__notification.notification__show {
  opacity: 1;
}

@media only screen and (max-width: 768px) {
  .walletconnect-modal__header {
    height: 130px;
  }
  .walletconnect-modal__base {
    overflow: auto;
  }
}

@media only screen and (min-device-width: 415px) and (max-width: 768px) {
  #content {
    max-width: 768px;
    box-sizing: border-box;
  }
}

@media only screen and (min-width: 375px) and (max-width: 415px) {
  #content {
    max-width: 414px;
    box-sizing: border-box;
  }
}

@media only screen and (min-width: 320px) and (max-width: 375px) {
  #content {
    max-width: 375px;
    box-sizing: border-box;
  }
}

@media only screen and (max-width: 320px) {
  #content {
    max-width: 320px;
    box-sizing: border-box;
  }
}

.walletconnect-modal__base {
  -webkit-font-smoothing: antialiased;
  background: #ffffff;
  border-radius: 24px;
  box-shadow: 0 10px 50px 5px rgba(0, 0, 0, 0.4);
  font-family: ui-rounded, "SF Pro Rounded", "SF Pro Text", medium-content-sans-serif-font,
    -apple-system, BlinkMacSystemFont, ui-sans-serif, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell,
    "Open Sans", "Helvetica Neue", sans-serif;
  margin-top: 41px;
  padding: 24px 24px 22px;
  pointer-events: auto;
  position: relative;
  text-align: center;
  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);
  will-change: transform;
  overflow: visible;
  transform: translateY(-50%);
  top: 50%;
  max-width: 500px;
  margin: auto;
}

@media only screen and (max-width: 320px) {
  .walletconnect-modal__base {
    padding: 24px 12px;
  }
}

.walletconnect-modal__base .hidden {
  transform: translateY(150%);
  transition: 0.125s cubic-bezier(0.4, 0, 1, 1);
}

.walletconnect-modal__header {
  align-items: center;
  display: flex;
  height: 26px;
  left: 0;
  justify-content: space-between;
  position: absolute;
  top: -42px;
  width: 100%;
}

.walletconnect-modal__base .wc-logo {
  align-items: center;
  display: flex;
  height: 26px;
  margin-top: 15px;
  padding-bottom: 15px;
  pointer-events: auto;
}

.walletconnect-modal__base .wc-logo div {
  background-color: #3399ff;
  height: 21px;
  margin-right: 5px;
  mask-image: url("images/wc-logo.svg") center no-repeat;
  width: 32px;
}

.walletconnect-modal__base .wc-logo p {
  color: #ffffff;
  font-size: 20px;
  font-weight: 600;
  margin: 0;
}

.walletconnect-modal__base h2 {
  color: rgba(60, 66, 82, 0.6);
  font-size: 16px;
  font-weight: 600;
  letter-spacing: 0;
  line-height: 1.1875em;
  margin: 0 0 19px 0;
  text-align: center;
  width: 100%;
}

.walletconnect-modal__base__row {
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  align-items: center;
  border-radius: 20px;
  cursor: pointer;
  display: flex;
  height: 56px;
  justify-content: space-between;
  padding: 0 15px;
  position: relative;
  margin: 0px 0px 8px;
  text-align: left;
  transition: 0.15s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  will-change: transform;
  text-decoration: none;
}

.walletconnect-modal__base__row:hover {
  background: rgba(60, 66, 82, 0.06);
}

.walletconnect-modal__base__row:active {
  background: rgba(60, 66, 82, 0.06);
  transform: scale(0.975);
  transition: 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.walletconnect-modal__base__row__h3 {
  color: #25292e;
  font-size: 20px;
  font-weight: 700;
  margin: 0;
  padding-bottom: 3px;
}

.walletconnect-modal__base__row__right {
  align-items: center;
  display: flex;
  justify-content: center;
}

.walletconnect-modal__base__row__right__app-icon {
  border-radius: 8px;
  height: 34px;
  margin: 0 11px 2px 0;
  width: 34px;
  background-size: 100%;
  box-shadow: 0 4px 12px 0 rgba(37, 41, 46, 0.25);
}

.walletconnect-modal__base__row__right__caret {
  height: 18px;
  opacity: 0.3;
  transition: 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  width: 8px;
  will-change: opacity;
}

.walletconnect-modal__base__row:hover .caret,
.walletconnect-modal__base__row:active .caret {
  opacity: 0.6;
}

.walletconnect-modal__mobile__toggle {
  width: 80%;
  display: flex;
  margin: 0 auto;
  position: relative;
  overflow: hidden;
  border-radius: 8px;
  margin-bottom: 18px;
  background: #d4d5d9;
}

.walletconnect-modal__single_wallet {
  display: flex;
  justify-content: center;
  margin-top: 7px;
  margin-bottom: 18px;
}

.walletconnect-modal__single_wallet a {
  cursor: pointer;
  color: rgb(64, 153, 255);
  font-size: 21px;
  font-weight: 800;
  text-decoration: none !important;
  margin: 0 auto;
}

.walletconnect-modal__mobile__toggle_selector {
  width: calc(50% - 8px);
  background: white;
  position: absolute;
  border-radius: 5px;
  height: calc(100% - 8px);
  top: 4px;
  transition: all 0.2s ease-in-out;
  transform: translate3d(4px, 0, 0);
}

.walletconnect-modal__mobile__toggle.right__selected .walletconnect-modal__mobile__toggle_selector {
  transform: translate3d(calc(100% + 12px), 0, 0);
}

.walletconnect-modal__mobile__toggle a {
  font-size: 12px;
  width: 50%;
  text-align: center;
  padding: 8px;
  margin: 0;
  font-weight: 600;
  z-index: 1;
}

.walletconnect-modal__footer {
  display: flex;
  justify-content: center;
  margin-top: 20px;
}

@media only screen and (max-width: 768px) {
  .walletconnect-modal__footer {
    margin-top: 5vw;
  }
}

.walletconnect-modal__footer a {
  cursor: pointer;
  color: #898d97;
  font-size: 15px;
  margin: 0 auto;
}

@media only screen and (max-width: 320px) {
  .walletconnect-modal__footer a {
    font-size: 14px;
  }
}

.walletconnect-connect__buttons__wrapper {
  max-height: 44vh;
}

.walletconnect-connect__buttons__wrapper__android {
  margin: 50% 0;
}

.walletconnect-connect__buttons__wrapper__wrap {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  margin: 10px 0;
}

@media only screen and (min-width: 768px) {
  .walletconnect-connect__buttons__wrapper__wrap {
    margin-top: 40px;
  }
}

.walletconnect-connect__button {
  background-color: rgb(64, 153, 255);
  padding: 12px;
  border-radius: 8px;
  text-decoration: none;
  color: rgb(255, 255, 255);
  font-weight: 500;
}

.walletconnect-connect__button__icon_anchor {
  cursor: pointer;
  display: flex;
  justify-content: flex-start;
  align-items: center;
  margin: 8px;
  width: 42px;
  justify-self: center;
  flex-direction: column;
  text-decoration: none !important;
}

@media only screen and (max-width: 320px) {
  .walletconnect-connect__button__icon_anchor {
    margin: 4px;
  }
}

.walletconnect-connect__button__icon {
  border-radius: 10px;
  height: 42px;
  margin: 0;
  width: 42px;
  background-size: cover !important;
  box-shadow: 0 4px 12px 0 rgba(37, 41, 46, 0.25);
}

.walletconnect-connect__button__text {
  color: #424952;
  font-size: 2.7vw;
  text-decoration: none !important;
  padding: 0;
  margin-top: 1.8vw;
  font-weight: 600;
}

@media only screen and (min-width: 768px) {
  .walletconnect-connect__button__text {
    font-size: 16px;
    margin-top: 12px;
  }
}

.walletconnect-search__input {
  border: none;
  background: #d4d5d9;
  border-style: none;
  padding: 8px 16px;
  outline: none;
  font-style: normal;
  font-stretch: normal;
  font-size: 16px;
  font-style: normal;
  font-stretch: normal;
  line-height: normal;
  letter-spacing: normal;
  text-align: left;
  border-radius: 8px;
  width: calc(100% - 16px);
  margin: 0;
  margin-bottom: 8px;
}
`;typeof Symbol<"u"&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")));typeof Symbol<"u"&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));function Fl(t,e){try{var n=t()}catch(r){return e(r)}return n&&n.then?n.then(void 0,e):n}var Wl="data:image/svg+xml,%3Csvg height='185' viewBox='0 0 300 185' width='300' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m61.4385429 36.2562612c48.9112241-47.8881663 128.2119871-47.8881663 177.1232091 0l5.886545 5.7634174c2.445561 2.3944081 2.445561 6.2765112 0 8.6709204l-20.136695 19.715503c-1.222781 1.1972051-3.2053 1.1972051-4.428081 0l-8.100584-7.9311479c-34.121692-33.4079817-89.443886-33.4079817-123.5655788 0l-8.6750562 8.4936051c-1.2227816 1.1972041-3.205301 1.1972041-4.4280806 0l-20.1366949-19.7155031c-2.4455612-2.3944092-2.4455612-6.2765122 0-8.6709204zm218.7677961 40.7737449 17.921697 17.546897c2.445549 2.3943969 2.445563 6.2764769.000031 8.6708899l-80.810171 79.121134c-2.445544 2.394426-6.410582 2.394453-8.85616.000062-.00001-.00001-.000022-.000022-.000032-.000032l-57.354143-56.154572c-.61139-.598602-1.60265-.598602-2.21404 0-.000004.000004-.000007.000008-.000011.000011l-57.3529212 56.154531c-2.4455368 2.394432-6.4105755 2.394472-8.8561612.000087-.0000143-.000014-.0000296-.000028-.0000449-.000044l-80.81241943-79.122185c-2.44556021-2.394408-2.44556021-6.2765115 0-8.6709197l17.92172963-17.5468673c2.4455602-2.3944082 6.4105989-2.3944082 8.8561602 0l57.3549775 56.155357c.6113908.598602 1.602649.598602 2.2140398 0 .0000092-.000009.0000174-.000017.0000265-.000024l57.3521031-56.155333c2.445505-2.3944633 6.410544-2.3945531 8.856161-.0002.000034.0000336.000068.0000673.000101.000101l57.354902 56.155432c.61139.598601 1.60265.598601 2.21404 0l57.353975-56.1543249c2.445561-2.3944092 6.410599-2.3944092 8.85616 0z' fill='%233b99fc'/%3E%3C/svg%3E",Hl="WalletConnect",zl=300,jl="rgb(64, 153, 255)",Fo="walletconnect-wrapper",Yr="walletconnect-style-sheet",Wo="walletconnect-qrcode-modal",Jl="walletconnect-qrcode-close",Ho="walletconnect-qrcode-text",Kl="walletconnect-connect-button";function Vl(t){return A.createElement("div",{className:"walletconnect-modal__header"},A.createElement("img",{src:Wl,className:"walletconnect-modal__headerLogo"}),A.createElement("p",null,Hl),A.createElement("div",{className:"walletconnect-modal__close__wrapper",onClick:t.onClose},A.createElement("div",{id:Jl,className:"walletconnect-modal__close__icon"},A.createElement("div",{className:"walletconnect-modal__close__line1"}),A.createElement("div",{className:"walletconnect-modal__close__line2"}))))}function Ql(t){return A.createElement("a",{className:"walletconnect-connect__button",href:t.href,id:Kl+"-"+t.name,onClick:t.onClick,rel:"noopener noreferrer",style:{backgroundColor:t.color},target:"_blank"},t.name)}var Yl="data:image/svg+xml,%3Csvg fill='none' height='18' viewBox='0 0 8 18' width='8' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath clip-rule='evenodd' d='m.586301.213898c-.435947.33907-.5144813.967342-.175411 1.403292l4.87831 6.27212c.28087.36111.28087.86677 0 1.22788l-4.878311 6.27211c-.33907.436-.260536 1.0642.175412 1.4033.435949.3391 1.064219.2605 1.403289-.1754l4.87832-6.2721c.84259-1.08336.84259-2.60034 0-3.68367l-4.87832-6.27212c-.33907-.4359474-.96734-.514482-1.403289-.175412z' fill='%233c4252' fill-rule='evenodd'/%3E%3C/svg%3E";function Gl(t){var e=t.color,n=t.href,r=t.name,s=t.logo,o=t.onClick;return A.createElement("a",{className:"walletconnect-modal__base__row",href:n,onClick:o,rel:"noopener noreferrer",target:"_blank"},A.createElement("h3",{className:"walletconnect-modal__base__row__h3"},r),A.createElement("div",{className:"walletconnect-modal__base__row__right"},A.createElement("div",{className:"walletconnect-modal__base__row__right__app-icon",style:{background:"url('"+s+"') "+e,backgroundSize:"100%"}}),A.createElement("img",{src:Yl,className:"walletconnect-modal__base__row__right__caret"})))}function Zl(t){var e=t.color,n=t.href,r=t.name,s=t.logo,o=t.onClick,u=window.innerWidth<768?(r.length>8?2.5:2.7)+"vw":"inherit";return A.createElement("a",{className:"walletconnect-connect__button__icon_anchor",href:n,onClick:o,rel:"noopener noreferrer",target:"_blank"},A.createElement("div",{className:"walletconnect-connect__button__icon",style:{background:"url('"+s+"') "+e,backgroundSize:"100%"}}),A.createElement("div",{style:{fontSize:u},className:"walletconnect-connect__button__text"},r))}var Xl=5,gn=12;function ef(t){var e=Ie.isAndroid(),n=A.useState(""),r=n[0],s=n[1],o=A.useState(""),u=o[0],m=o[1],v=A.useState(1),x=v[0],y=v[1],k=u?t.links.filter(function(C){return C.name.toLowerCase().includes(u.toLowerCase())}):t.links,I=t.errorMessage,T=u||k.length>Xl,R=Math.ceil(k.length/gn),N=[(x-1)*gn+1,x*gn],w=k.length?k.filter(function(C,L){return L+1>=N[0]&&L+1<=N[1]}):[],M=!e&&R>1,S=void 0;function E(C){s(C.target.value),clearTimeout(S),C.target.value?S=setTimeout(function(){m(C.target.value),y(1)},1e3):(s(""),m(""),y(1))}return A.createElement("div",null,A.createElement("p",{id:Ho,className:"walletconnect-qrcode__text"},e?t.text.connect_mobile_wallet:t.text.choose_preferred_wallet),!e&&A.createElement("input",{className:"walletconnect-search__input",placeholder:"Search",value:r,onChange:E}),A.createElement("div",{className:"walletconnect-connect__buttons__wrapper"+(e?"__android":T&&k.length?"__wrap":"")},e?A.createElement(Ql,{name:t.text.connect,color:jl,href:t.uri,onClick:A.useCallback(function(){Ie.saveMobileLinkInfo({name:"Unknown",href:t.uri})},[])}):w.length?w.map(function(C){var L=C.color,O=C.name,D=C.shortName,$=C.logo,V=Ie.formatIOSMobile(t.uri,C),p=A.useCallback(function(){Ie.saveMobileLinkInfo({name:O,href:V})},[w]);return T?A.createElement(Zl,{color:L,href:V,name:D||O,logo:$,onClick:p}):A.createElement(Gl,{color:L,href:V,name:O,logo:$,onClick:p})}):A.createElement(A.Fragment,null,A.createElement("p",null,I.length?t.errorMessage:t.links.length&&!k.length?t.text.no_wallets_found:t.text.loading))),M&&A.createElement("div",{className:"walletconnect-modal__footer"},Array(R).fill(0).map(function(C,L){var O=L+1,D=x===O;return A.createElement("a",{style:{margin:"auto 10px",fontWeight:D?"bold":"normal"},onClick:function(){return y(O)}},O)})))}function tf(t){var e=!!t.message.trim();return A.createElement("div",{className:"walletconnect-qrcode__notification"+(e?" notification__show":"")},t.message)}var nf=function(t){try{var e="";return Promise.resolve(Do.toString(t,{margin:0,type:"svg"})).then(function(n){return typeof n=="string"&&(e=n.replace("<svg",'<svg class="walletconnect-qrcode__image"')),e})}catch(n){return Promise.reject(n)}};function rf(t){var e=A.useState(""),n=e[0],r=e[1],s=A.useState(""),o=s[0],u=s[1];A.useEffect(function(){try{return Promise.resolve(nf(t.uri)).then(function(v){u(v)})}catch(v){Promise.reject(v)}},[]);var m=function(){var v=Ul(t.uri);v?(r(t.text.copied_to_clipboard),setInterval(function(){return r("")},1200)):(r("Error"),setInterval(function(){return r("")},1200))};return A.createElement("div",null,A.createElement("p",{id:Ho,className:"walletconnect-qrcode__text"},t.text.scan_qrcode_with_wallet),A.createElement("div",{dangerouslySetInnerHTML:{__html:o}}),A.createElement("div",{className:"walletconnect-modal__footer"},A.createElement("a",{onClick:m},t.text.copy_to_clipboard)),A.createElement(tf,{message:n}))}function of(t){var e=Ie.isAndroid(),n=Ie.isMobile(),r=n?t.qrcodeModalOptions&&t.qrcodeModalOptions.mobileLinks?t.qrcodeModalOptions.mobileLinks:void 0:t.qrcodeModalOptions&&t.qrcodeModalOptions.desktopLinks?t.qrcodeModalOptions.desktopLinks:void 0,s=A.useState(!1),o=s[0],u=s[1],m=A.useState(!1),v=m[0],x=m[1],y=A.useState(!n),k=y[0],I=y[1],T={mobile:n,text:t.text,uri:t.uri,qrcodeModalOptions:t.qrcodeModalOptions},R=A.useState(""),N=R[0],w=R[1],M=A.useState(!1),S=M[0],E=M[1],C=A.useState([]),L=C[0],O=C[1],D=A.useState(""),$=D[0],V=D[1],p=function(){v||o||r&&!r.length||L.length>0||A.useEffect(function(){var c=function(){try{if(e)return Promise.resolve();u(!0);var l=Fl(function(){var f=t.qrcodeModalOptions&&t.qrcodeModalOptions.registryUrl?t.qrcodeModalOptions.registryUrl:Ie.getWalletRegistryUrl();return Promise.resolve(fetch(f)).then(function(g){return Promise.resolve(g.json()).then(function(_){var b=_.listings,h=n?"mobile":"desktop",a=Ie.getMobileLinkRegistry(Ie.formatMobileRegistry(b,h),r);u(!1),x(!0),V(a.length?"":t.text.no_supported_wallets),O(a);var d=a.length===1;d&&(w(Ie.formatIOSMobile(t.uri,a[0])),I(!0)),E(d)})})},function(f){u(!1),x(!0),V(t.text.something_went_wrong),console.error(f)});return Promise.resolve(l&&l.then?l.then(function(){}):void 0)}catch(f){return Promise.reject(f)}};c()})};p();var i=n?k:!k;return A.createElement("div",{id:Wo,className:"walletconnect-qrcode__base animated fadeIn"},A.createElement("div",{className:"walletconnect-modal__base"},A.createElement(Vl,{onClose:t.onClose}),S&&k?A.createElement("div",{className:"walletconnect-modal__single_wallet"},A.createElement("a",{onClick:function(){return Ie.saveMobileLinkInfo({name:L[0].name,href:N})},href:N,rel:"noopener noreferrer",target:"_blank"},t.text.connect_with+" "+(S?L[0].name:"")+" ›")):e||o||!o&&L.length?A.createElement("div",{className:"walletconnect-modal__mobile__toggle"+(i?" right__selected":"")},A.createElement("div",{className:"walletconnect-modal__mobile__toggle_selector"}),n?A.createElement(A.Fragment,null,A.createElement("a",{onClick:function(){return I(!1),p()}},t.text.mobile),A.createElement("a",{onClick:function(){return I(!0)}},t.text.qrcode)):A.createElement(A.Fragment,null,A.createElement("a",{onClick:function(){return I(!0)}},t.text.qrcode),A.createElement("a",{onClick:function(){return I(!1),p()}},t.text.desktop))):null,A.createElement("div",null,k||!e&&!o&&!L.length?A.createElement(rf,Object.assign({},T)):A.createElement(ef,Object.assign({},T,{links:L,errorMessage:$})))))}var af={choose_preferred_wallet:"Wähle bevorzugte Wallet",connect_mobile_wallet:"Verbinde mit Mobile Wallet",scan_qrcode_with_wallet:"Scanne den QR-code mit einer WalletConnect kompatiblen Wallet",connect:"Verbinden",qrcode:"QR-Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"In die Zwischenablage kopieren",copied_to_clipboard:"In die Zwischenablage kopiert!",connect_with:"Verbinden mit Hilfe von",loading:"Laden...",something_went_wrong:"Etwas ist schief gelaufen",no_supported_wallets:"Es gibt noch keine unterstützten Wallet",no_wallets_found:"keine Wallet gefunden"},sf={choose_preferred_wallet:"Choose your preferred wallet",connect_mobile_wallet:"Connect to Mobile Wallet",scan_qrcode_with_wallet:"Scan QR code with a WalletConnect-compatible wallet",connect:"Connect",qrcode:"QR Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"Copy to clipboard",copied_to_clipboard:"Copied to clipboard!",connect_with:"Connect with",loading:"Loading...",something_went_wrong:"Something went wrong",no_supported_wallets:"There are no supported wallets yet",no_wallets_found:"No wallets found"},cf={choose_preferred_wallet:"Elige tu billetera preferida",connect_mobile_wallet:"Conectar a billetera móvil",scan_qrcode_with_wallet:"Escanea el código QR con una billetera compatible con WalletConnect",connect:"Conectar",qrcode:"Código QR",mobile:"Móvil",desktop:"Desktop",copy_to_clipboard:"Copiar",copied_to_clipboard:"Copiado!",connect_with:"Conectar mediante",loading:"Cargando...",something_went_wrong:"Algo salió mal",no_supported_wallets:"Todavía no hay billeteras compatibles",no_wallets_found:"No se encontraron billeteras"},lf={choose_preferred_wallet:"Choisissez votre portefeuille préféré",connect_mobile_wallet:"Se connecter au portefeuille mobile",scan_qrcode_with_wallet:"Scannez le QR code avec un portefeuille compatible WalletConnect",connect:"Se connecter",qrcode:"QR Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"Copier",copied_to_clipboard:"Copié!",connect_with:"Connectez-vous à l'aide de",loading:"Chargement...",something_went_wrong:"Quelque chose a mal tourné",no_supported_wallets:"Il n'y a pas encore de portefeuilles pris en charge",no_wallets_found:"Aucun portefeuille trouvé"},ff={choose_preferred_wallet:"원하는 지갑을 선택하세요",connect_mobile_wallet:"모바일 지갑과 연결",scan_qrcode_with_wallet:"WalletConnect 지원 지갑에서 QR코드를 스캔하세요",connect:"연결",qrcode:"QR 코드",mobile:"모바일",desktop:"데스크탑",copy_to_clipboard:"클립보드에 복사",copied_to_clipboard:"클립보드에 복사되었습니다!",connect_with:"와 연결하다",loading:"로드 중...",something_went_wrong:"문제가 발생했습니다.",no_supported_wallets:"아직 지원되는 지갑이 없습니다",no_wallets_found:"지갑을 찾을 수 없습니다"},uf={choose_preferred_wallet:"Escolha sua carteira preferida",connect_mobile_wallet:"Conectar-se à carteira móvel",scan_qrcode_with_wallet:"Ler o código QR com uma carteira compatível com WalletConnect",connect:"Conectar",qrcode:"Código QR",mobile:"Móvel",desktop:"Desktop",copy_to_clipboard:"Copiar",copied_to_clipboard:"Copiado!",connect_with:"Ligar por meio de",loading:"Carregamento...",something_went_wrong:"Algo correu mal",no_supported_wallets:"Ainda não há carteiras suportadas",no_wallets_found:"Nenhuma carteira encontrada"},hf={choose_preferred_wallet:"选择你的钱包",connect_mobile_wallet:"连接至移动端钱包",scan_qrcode_with_wallet:"使用兼容 WalletConnect 的钱包扫描二维码",connect:"连接",qrcode:"二维码",mobile:"移动",desktop:"桌面",copy_to_clipboard:"复制到剪贴板",copied_to_clipboard:"复制到剪贴板成功！",connect_with:"通过以下方式连接",loading:"正在加载...",something_went_wrong:"出了问题",no_supported_wallets:"目前还没有支持的钱包",no_wallets_found:"没有找到钱包"},df={choose_preferred_wallet:"کیف پول مورد نظر خود را انتخاب کنید",connect_mobile_wallet:"به کیف پول موبایل وصل شوید",scan_qrcode_with_wallet:"کد QR را با یک کیف پول سازگار با WalletConnect اسکن کنید",connect:"اتصال",qrcode:"کد QR",mobile:"سیار",desktop:"دسکتاپ",copy_to_clipboard:"کپی به کلیپ بورد",copied_to_clipboard:"در کلیپ بورد کپی شد!",connect_with:"ارتباط با",loading:"...بارگذاری",something_went_wrong:"مشکلی پیش آمد",no_supported_wallets:"هنوز هیچ کیف پول پشتیبانی شده ای وجود ندارد",no_wallets_found:"هیچ کیف پولی پیدا نشد"},Gr={de:af,en:sf,es:cf,fr:lf,ko:ff,pt:uf,zh:hf,fa:df};function gf(){var t=Ie.getDocumentOrThrow(),e=t.getElementById(Yr);e&&t.head.removeChild(e);var n=t.createElement("style");n.setAttribute("id",Yr),n.innerText=Dl,t.head.appendChild(n)}function pf(){var t=Ie.getDocumentOrThrow(),e=t.createElement("div");return e.setAttribute("id",Fo),t.body.appendChild(e),e}function zo(){var t=Ie.getDocumentOrThrow(),e=t.getElementById(Wo);e&&(e.className=e.className.replace("fadeIn","fadeOut"),setTimeout(function(){var n=t.getElementById(Fo);n&&t.body.removeChild(n)},zl))}function mf(t){return function(){zo(),t&&t()}}function _f(){var t=Ie.getNavigatorOrThrow().language.split("-")[0]||"en";return Gr[t]||Gr.en}function vf(t,e,n){gf();var r=pf();A.render(A.createElement(of,{text:_f(),uri:t,onClose:mf(e),qrcodeModalOptions:n}),r)}function wf(){zo()}var jo=function(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"};function yf(t,e,n){console.log(t),jo()?$l(t):vf(t,e,n)}function bf(){jo()||wf()}var Mf={open:yf,close:bf},xf=Mf;const Ef=Rn(xf);class Sf extends ea{constructor(e){super(),this.events=new ei,this.accounts=[],this.chainId=1,this.pending=!1,this.bridge="https://bridge.walletconnect.org",this.qrcode=!0,this.qrcodeModalOptions=void 0,this.opts=e,this.chainId=(e==null?void 0:e.chainId)||this.chainId,this.wc=this.register(e)}get connected(){return typeof this.wc<"u"&&this.wc.connected}get connecting(){return this.pending}get connector(){return this.wc=this.register(this.opts),this.wc}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e){if(this.connected){this.onOpen();return}return new Promise((n,r)=>{this.on("error",s=>{r(s)}),this.on("open",()=>{n()}),this.create(e)})}async close(){typeof this.wc>"u"||(this.wc.connected&&this.wc.killSession(),this.onClose())}async send(e){this.wc=this.register(this.opts),this.connected||await this.open(),this.sendPayload(e).then(n=>this.events.emit("payload",n)).catch(n=>this.events.emit("payload",vr(e.id,n.message)))}register(e){if(this.wc)return this.wc;this.opts=e||this.opts,this.bridge=e!=null&&e.connector?e.connector.bridge:(e==null?void 0:e.bridge)||"https://bridge.walletconnect.org",this.qrcode=typeof(e==null?void 0:e.qrcode)>"u"||e.qrcode!==!1,this.chainId=typeof(e==null?void 0:e.chainId)<"u"?e.chainId:this.chainId,this.qrcodeModalOptions=e==null?void 0:e.qrcodeModalOptions;const n={bridge:this.bridge,qrcodeModal:this.qrcode?Ef:void 0,qrcodeModalOptions:this.qrcodeModalOptions,storageId:e==null?void 0:e.storageId,signingMethods:e==null?void 0:e.signingMethods,clientMeta:e==null?void 0:e.clientMeta};if(this.wc=typeof(e==null?void 0:e.connector)<"u"?e.connector:new bc(n),typeof this.wc>"u")throw new Error("Failed to register WalletConnect connector");return this.wc.accounts.length&&(this.accounts=this.wc.accounts),this.wc.chainId&&(this.chainId=this.wc.chainId),this.registerConnectorEvents(),this.wc}onOpen(e){this.pending=!1,e&&(this.wc=e),this.events.emit("open")}onClose(){this.pending=!1,this.wc&&(this.wc=void 0),this.events.emit("close")}onError(e,n="Failed or Rejected Request",r=-32e3,s){const o={id:e.id,jsonrpc:e.jsonrpc,error:{code:r,message:n}};return typeof s<"u"&&(o.error.data=s),this.events.emit("payload",o),o}create(e){this.wc=this.register(this.opts),this.chainId=e||this.chainId,!(this.connected||this.pending)&&(this.pending=!0,this.registerConnectorEvents(),this.wc.createSession({chainId:this.chainId}).then(()=>this.events.emit("created")).catch(n=>this.events.emit("error",n)))}registerConnectorEvents(){this.wc=this.register(this.opts),this.wc.on("connect",e=>{var n,r;if(e){this.events.emit("error",e);return}this.accounts=((n=this.wc)===null||n===void 0?void 0:n.accounts)||[],this.chainId=((r=this.wc)===null||r===void 0?void 0:r.chainId)||this.chainId,this.onOpen()}),this.wc.on("disconnect",e=>{if(e){this.events.emit("error",e);return}this.onClose()}),this.wc.on("modal_closed",()=>{this.events.emit("error",new Error("User closed modal"))}),this.wc.on("session_update",(e,n)=>{const{accounts:r,chainId:s}=n.params[0];(!this.accounts||r&&this.accounts!==r)&&(this.accounts=r,this.events.emit("accountsChanged",r)),(!this.chainId||s&&this.chainId!==s)&&(this.chainId=s,this.events.emit("chainChanged",s))})}async sendPayload(e){this.wc=this.register(this.opts);try{const n=await this.wc.unsafeSend(e);return this.sanitizeResponse(n)}catch(n){return this.onError(e,n.message)}}sanitizeResponse(e){return typeof e.error<"u"&&typeof e.error.code>"u"?vr(e.id,e.error.message,e.error.data):e}}class Rf{constructor(e){this.events=new ei,this.rpc={infuraId:e==null?void 0:e.infuraId,custom:e==null?void 0:e.rpc},this.signer=new wr(new Sf(e));const n=this.signer.connection.chainId||(e==null?void 0:e.chainId)||1;this.http=this.setHttpProvider(n),this.registerEventListeners()}get connected(){return this.signer.connection.connected}get connector(){return this.signer.connection.connector}get accounts(){return this.signer.connection.accounts}get chainId(){return this.signer.connection.chainId}get rpcUrl(){var e;return((e=this.http)===null||e===void 0?void 0:e.connection).url||""}async request(e){switch(e.method){case"eth_requestAccounts":return await this.connect(),this.signer.connection.accounts;case"eth_accounts":return this.signer.connection.accounts;case"eth_chainId":return this.signer.connection.chainId}if(On.includes(e.method))return this.signer.request(e);if(typeof this.http>"u")throw new Error(`Cannot request JSON-RPC method (${e.method}) without provided rpc url`);return this.http.request(e)}sendAsync(e,n){this.request(e).then(r=>n(null,r)).catch(r=>n(r,void 0))}async enable(){return await this.request({method:"eth_requestAccounts"})}async connect(){this.signer.connection.connected||await this.signer.connect()}async disconnect(){this.signer.connection.connected&&await this.signer.disconnect()}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}removeListener(e,n){this.events.removeListener(e,n)}off(e,n){this.events.off(e,n)}get isWalletConnect(){return!0}registerEventListeners(){this.signer.connection.on("accountsChanged",e=>{this.events.emit("accountsChanged",e)}),this.signer.connection.on("chainChanged",e=>{this.http=this.setHttpProvider(e),this.events.emit("chainChanged",e)}),this.signer.on("disconnect",()=>{this.events.emit("disconnect")})}setHttpProvider(e){const n=ys(e,this.rpc);return typeof n>"u"?void 0:new wr(new ta(n))}}export{Rf as default};
